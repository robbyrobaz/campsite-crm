{"ast":null,"code":"import _objectSpread from\"/home/rob/.openclaw/workspace/campsite-crm/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import axios from'axios';import'../styles/IntegrationHub.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const INITIAL_SETTINGS={chatgpt_enabled:false,workspace_name:'Campsite CRM',openai_api_key:'',openai_model:'gpt-4.1-mini',mcp_shared_secret:'',oauth_enabled:false,oauth_client_id:'',oauth_client_secret:'',oauth_redirect_uri:'',gmail_scan_enabled:false,gmail_account_email:'',mcp_url:'',oauth_redirect_default:'',openai_key_configured:false,mcp_secret_configured:false,oauth_client_secret_configured:false};function IntegrationHub(_ref){let{onRefreshData,onRefreshTasks}=_ref;const[settings,setSettings]=useState(INITIAL_SETTINGS);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[testing,setTesting]=useState(false);const[chatLoading,setChatLoading]=useState(false);const[chatInput,setChatInput]=useState('');const[includeContext,setIncludeContext]=useState(true);const[chatHistory,setChatHistory]=useState([]);const[gmailInput,setGmailInput]=useState('');const[gmailSuggestions,setGmailSuggestions]=useState([]);const[gmailScanSource,setGmailScanSource]=useState('');const[scanningGmail,setScanningGmail]=useState(false);const[applyingSuggestions,setApplyingSuggestions]=useState(false);const[mergingSummaries,setMergingSummaries]=useState(false);const loadSettings=async()=>{setLoading(true);try{const response=await axios.get('/api/integrations/chatgpt/settings');setSettings(prev=>_objectSpread(_objectSpread({},prev),response.data));}catch(error){console.error('Error loading integration settings:',error);alert('Unable to load integration settings right now');}finally{setLoading(false);}};useEffect(()=>{loadSettings();},[]);const saveSettings=async()=>{setSaving(true);try{await axios.put('/api/integrations/chatgpt/settings',{chatgpt_enabled:settings.chatgpt_enabled,workspace_name:settings.workspace_name,openai_api_key:settings.openai_api_key,openai_model:settings.openai_model,mcp_shared_secret:settings.mcp_shared_secret,oauth_enabled:settings.oauth_enabled,oauth_client_id:settings.oauth_client_id,oauth_client_secret:settings.oauth_client_secret,oauth_redirect_uri:settings.oauth_redirect_uri,gmail_scan_enabled:settings.gmail_scan_enabled,gmail_account_email:settings.gmail_account_email});await loadSettings();alert('Integration settings saved');}catch(error){var _error$response,_error$response$data;console.error('Error saving integration settings:',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Unable to save settings');}finally{setSaving(false);}};const testConnection=async()=>{setTesting(true);try{const response=await axios.post('/api/integrations/chatgpt/test');alert(\"Connection OK (\".concat(response.data.model,\"): \").concat(response.data.preview||'No preview'));}catch(error){var _error$response2,_error$response2$data;console.error('Error testing ChatGPT connection:',error);alert(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Connection test failed');}finally{setTesting(false);}};const askChatGpt=async()=>{const trimmed=chatInput.trim();if(!trimmed)return;const nextHistory=[...chatHistory,{role:'user',content:trimmed}];setChatHistory(nextHistory);setChatInput('');setChatLoading(true);try{const response=await axios.post('/api/chatgpt/chat',{message:trimmed,history:nextHistory,include_crm_context:includeContext});setChatHistory(prev=>[...prev,{role:'assistant',content:response.data.reply||''}]);if(onRefreshData)onRefreshData();if(onRefreshTasks)onRefreshTasks();}catch(error){console.error('Error querying chat endpoint:',error);setChatHistory(prev=>{var _error$response3,_error$response3$data;return[...prev,{role:'assistant',content:\"Error: \".concat(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Unable to reach ChatGPT endpoint.')}];});}finally{setChatLoading(false);}};const parseGmailInput=()=>{const trimmed=gmailInput.trim();if(!trimmed)return[];const parsed=JSON.parse(trimmed);if(Array.isArray(parsed))return parsed;if(Array.isArray(parsed===null||parsed===void 0?void 0:parsed.messages))return parsed.messages;throw new Error('Expected JSON array or {\"messages\":[...]}');};const scanGmailSuggestions=async()=>{try{var _response$data,_response$data2,_response$data3;const messages=parseGmailInput();if(!messages.length){alert('Paste Gmail messages JSON first.');return;}setScanningGmail(true);const response=await axios.post('/api/contacts/suggestions/from-gmail',{messages});setGmailSuggestions(((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.suggestions)||[]);setGmailScanSource(((_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.source)||'');if((_response$data3=response.data)!==null&&_response$data3!==void 0&&_response$data3.warning)alert(response.data.warning);}catch(error){var _error$response4,_error$response4$data;console.error('Error scanning Gmail suggestions:',error);alert(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||error.message||'Failed to scan Gmail messages');}finally{setScanningGmail(false);}};const applySuggestions=async()=>{if(!gmailSuggestions.length){alert('No suggestions to apply.');return;}setApplyingSuggestions(true);try{const response=await axios.post('/api/contacts/suggestions/apply',{suggestions:gmailSuggestions});alert(\"Applied. Created: \".concat(response.data.created_count,\", Updated: \").concat(response.data.updated_count));if(onRefreshData)onRefreshData();}catch(error){var _error$response5,_error$response5$data;console.error('Error applying contact suggestions:',error);alert(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||'Failed to apply suggestions');}finally{setApplyingSuggestions(false);}};const mergeRecentSummaries=async()=>{setMergingSummaries(true);try{const response=await axios.post('/api/contacts/merge-recent-summaries',{days:30});alert(\"Merged summaries for \".concat(response.data.merged_count,\" contacts.\"));}catch(error){var _error$response6,_error$response6$data;console.error('Error merging recent summaries:',error);alert(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||'Failed to merge summaries');}finally{setMergingSummaries(false);}};const oauthRedirect=useMemo(()=>settings.oauth_redirect_uri||settings.oauth_redirect_default||'-',[settings.oauth_redirect_uri,settings.oauth_redirect_default]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2699\\uFE0F ChatGPT + MCP Settings\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading integration settings...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"integration-grid\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2699\\uFE0F ChatGPT + MCP Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtext\",children:\"Connect Campsite CRM to ChatGPT and expose CRM data/tasks over MCP tools.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"integration-status-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"badge-pill\",children:[\"OpenAI Key: \",settings.openai_key_configured?'Configured':'Missing']}),/*#__PURE__*/_jsxs(\"div\",{className:\"badge-pill\",children:[\"MCP Secret: \",settings.mcp_secret_configured?'Configured':'Optional']}),/*#__PURE__*/_jsxs(\"div\",{className:\"badge-pill\",children:[\"OAuth Secret: \",settings.oauth_client_secret_configured?'Configured':'Missing']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-grid\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.chatgpt_enabled,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{chatgpt_enabled:e.target.checked}))}),\"Enable ChatGPT Integration\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Workspace Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.workspace_name,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{workspace_name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OpenAI API Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.openai_api_key,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{openai_api_key:e.target.value})),placeholder:\"sk-...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OpenAI Model\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.openai_model,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{openai_model:e.target.value})),placeholder:\"gpt-4.1-mini\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"MCP Shared Secret (Bearer token)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.mcp_shared_secret,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{mcp_shared_secret:e.target.value})),placeholder:\"Optional but recommended\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.oauth_enabled,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{oauth_enabled:e.target.checked}))}),\"Enable OAuth Metadata (for external bridge)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OAuth Client ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.oauth_client_id,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{oauth_client_id:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OAuth Client Secret\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.oauth_client_secret,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{oauth_client_secret:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OAuth Redirect URI\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.oauth_redirect_uri,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{oauth_redirect_uri:e.target.value})),placeholder:settings.oauth_redirect_default||''})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.gmail_scan_enabled,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{gmail_scan_enabled:e.target.checked}))}),\"Enable GPT Gmail Contact Scan\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gmail Account Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.gmail_account_email,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{gmail_account_email:e.target.value})),placeholder:\"ops@yourcampsite.com\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"button\",onClick:saveSettings,disabled:saving,children:saving?'Saving...':'Save Settings'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",type:\"button\",onClick:testConnection,disabled:testing,children:testing?'Testing...':'Test OpenAI Connection'})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83E\\uDDED Setup Instructions\"}),/*#__PURE__*/_jsxs(\"ol\",{className:\"instructions-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Save OpenAI key and enable ChatGPT integration in this page.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Use the MCP endpoint URL below in your MCP client or ChatGPT bridge.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"If you set a shared secret, send it as `Authorization: Bearer <secret>`.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Expose tools for bookings, waitlist, and tasks (`crm.list_tasks`, `crm.create_task`, etc.).\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Use OAuth fields only when your external bridge requires OAuth metadata.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"instruction-code\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"MCP URL\"}),/*#__PURE__*/_jsx(\"code\",{children:settings.mcp_url||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"instruction-code\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"OAuth Redirect (effective)\"}),/*#__PURE__*/_jsx(\"code\",{children:oauthRedirect})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"instruction-code\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quick MCP initialize example\"}),/*#__PURE__*/_jsx(\"code\",{children:\"curl -X POST \".concat(settings.mcp_url||'http://localhost:5000/mcp',\" -H \\\"Content-Type: application/json\\\" -d '{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"id\\\":1,\\\"method\\\":\\\"initialize\\\",\\\"params\\\":{}}'\")})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card integration-chat-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCAC Ask ChatGPT Inside CRM\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtext\",children:\"This chat can include live CRM context (bookings, waitlist, tasks, summary).\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:includeContext,onChange:e=>setIncludeContext(e.target.checked)}),\"Include live CRM context in prompts\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-log\",children:chatHistory.length>0?chatHistory.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"chat-msg \".concat(msg.role),children:[/*#__PURE__*/_jsx(\"strong\",{children:msg.role==='assistant'?'ChatGPT':'You'}),/*#__PURE__*/_jsx(\"p\",{children:msg.content})]},\"\".concat(msg.role,\"-\").concat(index))):/*#__PURE__*/_jsx(\"p\",{className:\"chat-empty\",children:\"No chat yet. Ask about bookings, occupancy, overdue balances, or task planning.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input-row\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:chatInput,onChange:e=>setChatInput(e.target.value),placeholder:\"Example: What tasks should we prioritize this week based on overdue bookings and upcoming arrivals?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"button\",onClick:askChatGpt,disabled:chatLoading,children:chatLoading?'Thinking...':'Ask ChatGPT'})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card integration-chat-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCEC Gmail Contact Suggestions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtext\",children:\"Paste Gmail API messages JSON, let ChatGPT suggest contacts, then apply and merge summaries.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-input-row\",children:/*#__PURE__*/_jsx(\"textarea\",{value:gmailInput,onChange:e=>setGmailInput(e.target.value),placeholder:\"Paste JSON array of Gmail messages: [{\\\"from\\\":\\\"Name <email@x.com>\\\",\\\"subject\\\":\\\"...\\\",\\\"snippet\\\":\\\"...\\\",\\\"thread_id\\\":\\\"...\\\",\\\"date\\\":\\\"YYYY-MM-DD\\\"}]\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"button\",onClick:scanGmailSuggestions,disabled:scanningGmail,children:scanningGmail?'Scanning...':'Scan Gmail For Contact Suggestions'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",type:\"button\",onClick:applySuggestions,disabled:applyingSuggestions||gmailSuggestions.length===0,children:applyingSuggestions?'Applying...':'Apply Suggestions'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",type:\"button\",onClick:mergeRecentSummaries,disabled:mergingSummaries,children:mergingSummaries?'Merging...':'Merge Recent Summaries'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-log\",children:gmailSuggestions.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"chat-empty\",children:[\"Source: \",gmailScanSource||'unknown',\". Suggestions: \",gmailSuggestions.length]}),gmailSuggestions.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"chat-msg assistant\",children:[/*#__PURE__*/_jsx(\"strong\",{children:item.full_name||item.email}),/*#__PURE__*/_jsx(\"p\",{children:item.email}),/*#__PURE__*/_jsx(\"p\",{children:item.reason||item.conversation_summary||'No context'})]},\"\".concat(item.email||'contact',\"-\").concat(index)))]}):/*#__PURE__*/_jsx(\"p\",{className:\"chat-empty\",children:\"No suggestions yet.\"})})]})]});}export default IntegrationHub;","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","INITIAL_SETTINGS","chatgpt_enabled","workspace_name","openai_api_key","openai_model","mcp_shared_secret","oauth_enabled","oauth_client_id","oauth_client_secret","oauth_redirect_uri","gmail_scan_enabled","gmail_account_email","mcp_url","oauth_redirect_default","openai_key_configured","mcp_secret_configured","oauth_client_secret_configured","IntegrationHub","_ref","onRefreshData","onRefreshTasks","settings","setSettings","loading","setLoading","saving","setSaving","testing","setTesting","chatLoading","setChatLoading","chatInput","setChatInput","includeContext","setIncludeContext","chatHistory","setChatHistory","gmailInput","setGmailInput","gmailSuggestions","setGmailSuggestions","gmailScanSource","setGmailScanSource","scanningGmail","setScanningGmail","applyingSuggestions","setApplyingSuggestions","mergingSummaries","setMergingSummaries","loadSettings","response","get","prev","_objectSpread","data","error","console","alert","saveSettings","put","_error$response","_error$response$data","testConnection","post","concat","model","preview","_error$response2","_error$response2$data","askChatGpt","trimmed","trim","nextHistory","role","content","message","history","include_crm_context","reply","_error$response3","_error$response3$data","parseGmailInput","parsed","JSON","parse","Array","isArray","messages","Error","scanGmailSuggestions","_response$data","_response$data2","_response$data3","length","suggestions","source","warning","_error$response4","_error$response4$data","applySuggestions","created_count","updated_count","_error$response5","_error$response5$data","mergeRecentSummaries","days","merged_count","_error$response6","_error$response6$data","oauthRedirect","className","children","type","checked","onChange","e","target","value","placeholder","onClick","disabled","map","msg","index","item","full_name","email","reason","conversation_summary"],"sources":["/home/rob/.openclaw/workspace/campsite-crm/frontend/src/components/IntegrationHub.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport '../styles/IntegrationHub.css';\n\nconst INITIAL_SETTINGS = {\n  chatgpt_enabled: false,\n  workspace_name: 'Campsite CRM',\n  openai_api_key: '',\n  openai_model: 'gpt-4.1-mini',\n  mcp_shared_secret: '',\n  oauth_enabled: false,\n  oauth_client_id: '',\n  oauth_client_secret: '',\n  oauth_redirect_uri: '',\n  gmail_scan_enabled: false,\n  gmail_account_email: '',\n  mcp_url: '',\n  oauth_redirect_default: '',\n  openai_key_configured: false,\n  mcp_secret_configured: false,\n  oauth_client_secret_configured: false\n};\n\nfunction IntegrationHub({ onRefreshData, onRefreshTasks }) {\n  const [settings, setSettings] = useState(INITIAL_SETTINGS);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [testing, setTesting] = useState(false);\n  const [chatLoading, setChatLoading] = useState(false);\n  const [chatInput, setChatInput] = useState('');\n  const [includeContext, setIncludeContext] = useState(true);\n  const [chatHistory, setChatHistory] = useState([]);\n  const [gmailInput, setGmailInput] = useState('');\n  const [gmailSuggestions, setGmailSuggestions] = useState([]);\n  const [gmailScanSource, setGmailScanSource] = useState('');\n  const [scanningGmail, setScanningGmail] = useState(false);\n  const [applyingSuggestions, setApplyingSuggestions] = useState(false);\n  const [mergingSummaries, setMergingSummaries] = useState(false);\n\n  const loadSettings = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get('/api/integrations/chatgpt/settings');\n      setSettings((prev) => ({ ...prev, ...response.data }));\n    } catch (error) {\n      console.error('Error loading integration settings:', error);\n      alert('Unable to load integration settings right now');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const saveSettings = async () => {\n    setSaving(true);\n    try {\n      await axios.put('/api/integrations/chatgpt/settings', {\n        chatgpt_enabled: settings.chatgpt_enabled,\n        workspace_name: settings.workspace_name,\n        openai_api_key: settings.openai_api_key,\n        openai_model: settings.openai_model,\n        mcp_shared_secret: settings.mcp_shared_secret,\n        oauth_enabled: settings.oauth_enabled,\n        oauth_client_id: settings.oauth_client_id,\n        oauth_client_secret: settings.oauth_client_secret,\n        oauth_redirect_uri: settings.oauth_redirect_uri,\n        gmail_scan_enabled: settings.gmail_scan_enabled,\n        gmail_account_email: settings.gmail_account_email\n      });\n      await loadSettings();\n      alert('Integration settings saved');\n    } catch (error) {\n      console.error('Error saving integration settings:', error);\n      alert(error.response?.data?.error || 'Unable to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const testConnection = async () => {\n    setTesting(true);\n    try {\n      const response = await axios.post('/api/integrations/chatgpt/test');\n      alert(`Connection OK (${response.data.model}): ${response.data.preview || 'No preview'}`);\n    } catch (error) {\n      console.error('Error testing ChatGPT connection:', error);\n      alert(error.response?.data?.error || 'Connection test failed');\n    } finally {\n      setTesting(false);\n    }\n  };\n\n  const askChatGpt = async () => {\n    const trimmed = chatInput.trim();\n    if (!trimmed) return;\n\n    const nextHistory = [...chatHistory, { role: 'user', content: trimmed }];\n    setChatHistory(nextHistory);\n    setChatInput('');\n    setChatLoading(true);\n\n    try {\n      const response = await axios.post('/api/chatgpt/chat', {\n        message: trimmed,\n        history: nextHistory,\n        include_crm_context: includeContext\n      });\n\n      setChatHistory((prev) => [...prev, { role: 'assistant', content: response.data.reply || '' }]);\n\n      if (onRefreshData) onRefreshData();\n      if (onRefreshTasks) onRefreshTasks();\n    } catch (error) {\n      console.error('Error querying chat endpoint:', error);\n      setChatHistory((prev) => [\n        ...prev,\n        { role: 'assistant', content: `Error: ${error.response?.data?.error || 'Unable to reach ChatGPT endpoint.'}` }\n      ]);\n    } finally {\n      setChatLoading(false);\n    }\n  };\n\n  const parseGmailInput = () => {\n    const trimmed = gmailInput.trim();\n    if (!trimmed) return [];\n    const parsed = JSON.parse(trimmed);\n    if (Array.isArray(parsed)) return parsed;\n    if (Array.isArray(parsed?.messages)) return parsed.messages;\n    throw new Error('Expected JSON array or {\"messages\":[...]}');\n  };\n\n  const scanGmailSuggestions = async () => {\n    try {\n      const messages = parseGmailInput();\n      if (!messages.length) {\n        alert('Paste Gmail messages JSON first.');\n        return;\n      }\n\n      setScanningGmail(true);\n      const response = await axios.post('/api/contacts/suggestions/from-gmail', { messages });\n      setGmailSuggestions(response.data?.suggestions || []);\n      setGmailScanSource(response.data?.source || '');\n      if (response.data?.warning) alert(response.data.warning);\n    } catch (error) {\n      console.error('Error scanning Gmail suggestions:', error);\n      alert(error.response?.data?.error || error.message || 'Failed to scan Gmail messages');\n    } finally {\n      setScanningGmail(false);\n    }\n  };\n\n  const applySuggestions = async () => {\n    if (!gmailSuggestions.length) {\n      alert('No suggestions to apply.');\n      return;\n    }\n\n    setApplyingSuggestions(true);\n    try {\n      const response = await axios.post('/api/contacts/suggestions/apply', {\n        suggestions: gmailSuggestions\n      });\n      alert(`Applied. Created: ${response.data.created_count}, Updated: ${response.data.updated_count}`);\n      if (onRefreshData) onRefreshData();\n    } catch (error) {\n      console.error('Error applying contact suggestions:', error);\n      alert(error.response?.data?.error || 'Failed to apply suggestions');\n    } finally {\n      setApplyingSuggestions(false);\n    }\n  };\n\n  const mergeRecentSummaries = async () => {\n    setMergingSummaries(true);\n    try {\n      const response = await axios.post('/api/contacts/merge-recent-summaries', { days: 30 });\n      alert(`Merged summaries for ${response.data.merged_count} contacts.`);\n    } catch (error) {\n      console.error('Error merging recent summaries:', error);\n      alert(error.response?.data?.error || 'Failed to merge summaries');\n    } finally {\n      setMergingSummaries(false);\n    }\n  };\n\n  const oauthRedirect = useMemo(\n    () => settings.oauth_redirect_uri || settings.oauth_redirect_default || '-',\n    [settings.oauth_redirect_uri, settings.oauth_redirect_default]\n  );\n\n  if (loading) {\n    return (\n      <div className=\"card\">\n        <h2>‚öôÔ∏è ChatGPT + MCP Settings</h2>\n        <p>Loading integration settings...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"integration-grid\">\n      <section className=\"card\">\n        <h2>‚öôÔ∏è ChatGPT + MCP Settings</h2>\n        <p className=\"section-subtext\">Connect Campsite CRM to ChatGPT and expose CRM data/tasks over MCP tools.</p>\n\n        <div className=\"integration-status-row\">\n          <div className=\"badge-pill\">OpenAI Key: {settings.openai_key_configured ? 'Configured' : 'Missing'}</div>\n          <div className=\"badge-pill\">MCP Secret: {settings.mcp_secret_configured ? 'Configured' : 'Optional'}</div>\n          <div className=\"badge-pill\">OAuth Secret: {settings.oauth_client_secret_configured ? 'Configured' : 'Missing'}</div>\n        </div>\n\n        <div className=\"settings-grid\">\n          <label className=\"toggle-row\">\n            <input\n              type=\"checkbox\"\n              checked={settings.chatgpt_enabled}\n              onChange={(e) => setSettings({ ...settings, chatgpt_enabled: e.target.checked })}\n            />\n            Enable ChatGPT Integration\n          </label>\n\n          <div className=\"form-group\">\n            <label>Workspace Name</label>\n            <input\n              type=\"text\"\n              value={settings.workspace_name}\n              onChange={(e) => setSettings({ ...settings, workspace_name: e.target.value })}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>OpenAI API Key</label>\n            <input\n              type=\"password\"\n              value={settings.openai_api_key}\n              onChange={(e) => setSettings({ ...settings, openai_api_key: e.target.value })}\n              placeholder=\"sk-...\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>OpenAI Model</label>\n            <input\n              type=\"text\"\n              value={settings.openai_model}\n              onChange={(e) => setSettings({ ...settings, openai_model: e.target.value })}\n              placeholder=\"gpt-4.1-mini\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>MCP Shared Secret (Bearer token)</label>\n            <input\n              type=\"password\"\n              value={settings.mcp_shared_secret}\n              onChange={(e) => setSettings({ ...settings, mcp_shared_secret: e.target.value })}\n              placeholder=\"Optional but recommended\"\n            />\n          </div>\n\n          <label className=\"toggle-row\">\n            <input\n              type=\"checkbox\"\n              checked={settings.oauth_enabled}\n              onChange={(e) => setSettings({ ...settings, oauth_enabled: e.target.checked })}\n            />\n            Enable OAuth Metadata (for external bridge)\n          </label>\n\n          <div className=\"form-group\">\n            <label>OAuth Client ID</label>\n            <input\n              type=\"text\"\n              value={settings.oauth_client_id}\n              onChange={(e) => setSettings({ ...settings, oauth_client_id: e.target.value })}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>OAuth Client Secret</label>\n            <input\n              type=\"password\"\n              value={settings.oauth_client_secret}\n              onChange={(e) => setSettings({ ...settings, oauth_client_secret: e.target.value })}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>OAuth Redirect URI</label>\n            <input\n              type=\"text\"\n              value={settings.oauth_redirect_uri}\n              onChange={(e) => setSettings({ ...settings, oauth_redirect_uri: e.target.value })}\n              placeholder={settings.oauth_redirect_default || ''}\n            />\n          </div>\n\n          <label className=\"toggle-row\">\n            <input\n              type=\"checkbox\"\n              checked={settings.gmail_scan_enabled}\n              onChange={(e) => setSettings({ ...settings, gmail_scan_enabled: e.target.checked })}\n            />\n            Enable GPT Gmail Contact Scan\n          </label>\n\n          <div className=\"form-group\">\n            <label>Gmail Account Email</label>\n            <input\n              type=\"text\"\n              value={settings.gmail_account_email}\n              onChange={(e) => setSettings({ ...settings, gmail_account_email: e.target.value })}\n              placeholder=\"ops@yourcampsite.com\"\n            />\n          </div>\n        </div>\n\n        <div className=\"form-actions\">\n          <button className=\"btn btn-primary\" type=\"button\" onClick={saveSettings} disabled={saving}>\n            {saving ? 'Saving...' : 'Save Settings'}\n          </button>\n          <button className=\"btn btn-secondary\" type=\"button\" onClick={testConnection} disabled={testing}>\n            {testing ? 'Testing...' : 'Test OpenAI Connection'}\n          </button>\n        </div>\n      </section>\n\n      <section className=\"card\">\n        <h2>üß≠ Setup Instructions</h2>\n        <ol className=\"instructions-list\">\n          <li>Save OpenAI key and enable ChatGPT integration in this page.</li>\n          <li>Use the MCP endpoint URL below in your MCP client or ChatGPT bridge.</li>\n          <li>If you set a shared secret, send it as `Authorization: Bearer &lt;secret&gt;`.</li>\n          <li>Expose tools for bookings, waitlist, and tasks (`crm.list_tasks`, `crm.create_task`, etc.).</li>\n          <li>Use OAuth fields only when your external bridge requires OAuth metadata.</li>\n        </ol>\n\n        <div className=\"instruction-code\">\n          <strong>MCP URL</strong>\n          <code>{settings.mcp_url || '-'}</code>\n        </div>\n\n        <div className=\"instruction-code\">\n          <strong>OAuth Redirect (effective)</strong>\n          <code>{oauthRedirect}</code>\n        </div>\n\n        <div className=\"instruction-code\">\n          <strong>Quick MCP initialize example</strong>\n          <code>{`curl -X POST ${settings.mcp_url || 'http://localhost:5000/mcp'} -H \"Content-Type: application/json\" -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{}}'`}</code>\n        </div>\n      </section>\n\n      <section className=\"card integration-chat-card\">\n        <h2>üí¨ Ask ChatGPT Inside CRM</h2>\n        <p className=\"section-subtext\">This chat can include live CRM context (bookings, waitlist, tasks, summary).</p>\n\n        <label className=\"toggle-row\">\n          <input\n            type=\"checkbox\"\n            checked={includeContext}\n            onChange={(e) => setIncludeContext(e.target.checked)}\n          />\n          Include live CRM context in prompts\n        </label>\n\n        <div className=\"chat-log\">\n          {chatHistory.length > 0 ? chatHistory.map((msg, index) => (\n            <div key={`${msg.role}-${index}`} className={`chat-msg ${msg.role}`}>\n              <strong>{msg.role === 'assistant' ? 'ChatGPT' : 'You'}</strong>\n              <p>{msg.content}</p>\n            </div>\n          )) : (\n            <p className=\"chat-empty\">No chat yet. Ask about bookings, occupancy, overdue balances, or task planning.</p>\n          )}\n        </div>\n\n        <div className=\"chat-input-row\">\n          <textarea\n            value={chatInput}\n            onChange={(e) => setChatInput(e.target.value)}\n            placeholder=\"Example: What tasks should we prioritize this week based on overdue bookings and upcoming arrivals?\"\n          />\n          <button className=\"btn btn-primary\" type=\"button\" onClick={askChatGpt} disabled={chatLoading}>\n            {chatLoading ? 'Thinking...' : 'Ask ChatGPT'}\n          </button>\n        </div>\n      </section>\n\n      <section className=\"card integration-chat-card\">\n        <h2>üì¨ Gmail Contact Suggestions</h2>\n        <p className=\"section-subtext\">Paste Gmail API messages JSON, let ChatGPT suggest contacts, then apply and merge summaries.</p>\n\n        <div className=\"chat-input-row\">\n          <textarea\n            value={gmailInput}\n            onChange={(e) => setGmailInput(e.target.value)}\n            placeholder='Paste JSON array of Gmail messages: [{\"from\":\"Name <email@x.com>\",\"subject\":\"...\",\"snippet\":\"...\",\"thread_id\":\"...\",\"date\":\"YYYY-MM-DD\"}]'\n          />\n        </div>\n\n        <div className=\"form-actions\">\n          <button className=\"btn btn-primary\" type=\"button\" onClick={scanGmailSuggestions} disabled={scanningGmail}>\n            {scanningGmail ? 'Scanning...' : 'Scan Gmail For Contact Suggestions'}\n          </button>\n          <button className=\"btn btn-secondary\" type=\"button\" onClick={applySuggestions} disabled={applyingSuggestions || gmailSuggestions.length === 0}>\n            {applyingSuggestions ? 'Applying...' : 'Apply Suggestions'}\n          </button>\n          <button className=\"btn btn-secondary\" type=\"button\" onClick={mergeRecentSummaries} disabled={mergingSummaries}>\n            {mergingSummaries ? 'Merging...' : 'Merge Recent Summaries'}\n          </button>\n        </div>\n\n        <div className=\"chat-log\">\n          {gmailSuggestions.length > 0 ? (\n            <>\n              <p className=\"chat-empty\">Source: {gmailScanSource || 'unknown'}. Suggestions: {gmailSuggestions.length}</p>\n              {gmailSuggestions.map((item, index) => (\n                <div key={`${item.email || 'contact'}-${index}`} className=\"chat-msg assistant\">\n                  <strong>{item.full_name || item.email}</strong>\n                  <p>{item.email}</p>\n                  <p>{item.reason || item.conversation_summary || 'No context'}</p>\n                </div>\n              ))}\n            </>\n          ) : (\n            <p className=\"chat-empty\">No suggestions yet.</p>\n          )}\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default IntegrationHub;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}