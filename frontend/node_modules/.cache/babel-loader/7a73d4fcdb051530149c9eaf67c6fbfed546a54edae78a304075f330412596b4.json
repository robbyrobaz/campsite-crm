{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getLoyaltyLabel=visits=>{if(visits>3)return{text:'VIP',className:'vip'};if(visits>1)return{text:'Loyal',className:'loyal'};return{text:'Returning',className:'returning'};};function GuestValueSpotlight(_ref){let{guests=[]}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"card guest-value-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-heading\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2728 Guest Value Spotlight\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Top 3 return guests by lifetime revenue\"})]}),guests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"guest-spotlight-grid\",children:guests.map((guest,index)=>{var _guest$total_revenue;const loyalty=getLoyaltyLabel(guest.visit_count);return/*#__PURE__*/_jsxs(\"div\",{className:\"spotlight-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"spotlight-rank\",children:[\"#\",index+1]}),/*#__PURE__*/_jsx(\"div\",{className:\"spotlight-name\",children:guest.guest_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"spotlight-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Visits\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[guest.visit_count,\"x\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Revenue\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",((_guest$total_revenue=guest.total_revenue)===null||_guest$total_revenue===void 0?void 0:_guest$total_revenue.toFixed(2))||'0.00']})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"loyalty-pill \".concat(loyalty.className),children:loyalty.text})]},\"\".concat(guest.guest_name,\"-\").concat(index));})}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Return guests will populate this space once the same person books again.\"})})]});}export default GuestValueSpotlight;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","getLoyaltyLabel","visits","text","className","GuestValueSpotlight","_ref","guests","children","length","map","guest","index","_guest$total_revenue","loyalty","visit_count","guest_name","total_revenue","toFixed","concat"],"sources":["/home/rob/.openclaw/workspace/campsite-crm/frontend/src/components/GuestValueSpotlight.jsx"],"sourcesContent":["import React from 'react';\n\nconst getLoyaltyLabel = (visits) => {\n  if (visits > 3) return { text: 'VIP', className: 'vip' };\n  if (visits > 1) return { text: 'Loyal', className: 'loyal' };\n  return { text: 'Returning', className: 'returning' };\n};\n\nfunction GuestValueSpotlight({ guests = [] }) {\n  return (\n    <div className=\"card guest-value-card\">\n      <div className=\"card-heading\">\n        <h3>âœ¨ Guest Value Spotlight</h3>\n        <p>Top 3 return guests by lifetime revenue</p>\n      </div>\n      {guests.length > 0 ? (\n        <div className=\"guest-spotlight-grid\">\n          {guests.map((guest, index) => {\n            const loyalty = getLoyaltyLabel(guest.visit_count);\n            return (\n              <div key={`${guest.guest_name}-${index}`} className=\"spotlight-card\">\n                <div className=\"spotlight-rank\">#{index + 1}</div>\n                <div className=\"spotlight-name\">{guest.guest_name}</div>\n                <div className=\"spotlight-stats\">\n                  <div>\n                    <span className=\"label\">Visits</span>\n                    <strong>{guest.visit_count}x</strong>\n                  </div>\n                  <div>\n                    <span className=\"label\">Revenue</span>\n                    <strong>${guest.total_revenue?.toFixed(2) || '0.00'}</strong>\n                  </div>\n                </div>\n                <span className={`loyalty-pill ${loyalty.className}`}>{loyalty.text}</span>\n              </div>\n            );\n          })}\n        </div>\n      ) : (\n        <div className=\"empty-state\">\n          <p>Return guests will populate this space once the same person books again.</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default GuestValueSpotlight;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,eAAe,CAAIC,MAAM,EAAK,CAClC,GAAIA,MAAM,CAAG,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,KAAK,CAAEC,SAAS,CAAE,KAAM,CAAC,CACxD,GAAIF,MAAM,CAAG,CAAC,CAAE,MAAO,CAAEC,IAAI,CAAE,OAAO,CAAEC,SAAS,CAAE,OAAQ,CAAC,CAC5D,MAAO,CAAED,IAAI,CAAE,WAAW,CAAEC,SAAS,CAAE,WAAY,CAAC,CACtD,CAAC,CAED,QAAS,CAAAC,mBAAmBA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,MAAM,CAAG,EAAG,CAAC,CAAAD,IAAA,CAC1C,mBACEN,KAAA,QAAKI,SAAS,CAAC,uBAAuB,CAAAI,QAAA,eACpCR,KAAA,QAAKI,SAAS,CAAC,cAAc,CAAAI,QAAA,eAC3BV,IAAA,OAAAU,QAAA,CAAI,8BAAuB,CAAI,CAAC,cAChCV,IAAA,MAAAU,QAAA,CAAG,yCAAuC,CAAG,CAAC,EAC3C,CAAC,CACLD,MAAM,CAACE,MAAM,CAAG,CAAC,cAChBX,IAAA,QAAKM,SAAS,CAAC,sBAAsB,CAAAI,QAAA,CAClCD,MAAM,CAACG,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,GAAK,KAAAC,oBAAA,CAC5B,KAAM,CAAAC,OAAO,CAAGb,eAAe,CAACU,KAAK,CAACI,WAAW,CAAC,CAClD,mBACEf,KAAA,QAA0CI,SAAS,CAAC,gBAAgB,CAAAI,QAAA,eAClER,KAAA,QAAKI,SAAS,CAAC,gBAAgB,CAAAI,QAAA,EAAC,GAAC,CAACI,KAAK,CAAG,CAAC,EAAM,CAAC,cAClDd,IAAA,QAAKM,SAAS,CAAC,gBAAgB,CAAAI,QAAA,CAAEG,KAAK,CAACK,UAAU,CAAM,CAAC,cACxDhB,KAAA,QAAKI,SAAS,CAAC,iBAAiB,CAAAI,QAAA,eAC9BR,KAAA,QAAAQ,QAAA,eACEV,IAAA,SAAMM,SAAS,CAAC,OAAO,CAAAI,QAAA,CAAC,QAAM,CAAM,CAAC,cACrCR,KAAA,WAAAQ,QAAA,EAASG,KAAK,CAACI,WAAW,CAAC,GAAC,EAAQ,CAAC,EAClC,CAAC,cACNf,KAAA,QAAAQ,QAAA,eACEV,IAAA,SAAMM,SAAS,CAAC,OAAO,CAAAI,QAAA,CAAC,SAAO,CAAM,CAAC,cACtCR,KAAA,WAAAQ,QAAA,EAAQ,GAAC,CAAC,EAAAK,oBAAA,CAAAF,KAAK,CAACM,aAAa,UAAAJ,oBAAA,iBAAnBA,oBAAA,CAAqBK,OAAO,CAAC,CAAC,CAAC,GAAI,MAAM,EAAS,CAAC,EAC1D,CAAC,EACH,CAAC,cACNpB,IAAA,SAAMM,SAAS,iBAAAe,MAAA,CAAkBL,OAAO,CAACV,SAAS,CAAG,CAAAI,QAAA,CAAEM,OAAO,CAACX,IAAI,CAAO,CAAC,MAAAgB,MAAA,CAbhER,KAAK,CAACK,UAAU,MAAAG,MAAA,CAAIP,KAAK,CAcjC,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,cAENd,IAAA,QAAKM,SAAS,CAAC,aAAa,CAAAI,QAAA,cAC1BV,IAAA,MAAAU,QAAA,CAAG,0EAAwE,CAAG,CAAC,CAC5E,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAH,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}