{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import axios from'axios';import'../styles/Contacts.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Contacts(_ref){let{refreshToken=0}=_ref;const[recentContacts,setRecentContacts]=useState([]);const[contacts,setContacts]=useState([]);const[selectedContact,setSelectedContact]=useState(null);const[selectedConversations,setSelectedConversations]=useState([]);const[search,setSearch]=useState('');const[loading,setLoading]=useState(true);const[loadingDetails,setLoadingDetails]=useState(false);const loadContacts=async function(){let searchValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';const[recentRes,listRes]=await Promise.all([axios.get('/api/contacts/recent',{params:{limit:12}}),axios.get('/api/contacts',{params:{search:searchValue,limit:150}})]);setRecentContacts(recentRes.data||[]);setContacts(listRes.data||[]);};const loadContactDetails=async contactId=>{setLoadingDetails(true);try{var _response$data;const response=await axios.get(\"/api/contacts/\".concat(contactId));setSelectedContact(response.data||null);setSelectedConversations(((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.conversations)||[]);}catch(error){var _error$response,_error$response$data;console.error('Error loading contact details:',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Unable to load contact details right now');}finally{setLoadingDetails(false);}};useEffect(()=>{let isMounted=true;setLoading(true);loadContacts(search).catch(error=>{var _error$response2,_error$response2$data;console.error('Error loading contacts:',error);if(isMounted)alert(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Unable to load contacts right now');}).finally(()=>{if(isMounted)setLoading(false);});return()=>{isMounted=false;};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[refreshToken]);const searchCountLabel=useMemo(()=>{if(!search.trim())return\"\".concat(contacts.length,\" contacts\");return\"\".concat(contacts.length,\" results\");},[contacts.length,search]);const handleSearch=async()=>{try{setLoading(true);await loadContacts(search);}catch(error){var _error$response3,_error$response3$data;console.error('Error searching contacts:',error);alert(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Unable to search contacts right now');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC65 Contacts\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading contacts...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-layout\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD52 Recent Contacts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtext\",children:\"Most recently touched contacts and their latest interaction context.\"}),recentContacts.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"data-table contacts-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Interaction\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Recent Context\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recentContacts.map(contact=>{const latest=(contact.recent_interactions||[])[0]||null;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:contact.full_name||'-'}),/*#__PURE__*/_jsx(\"td\",{children:contact.email||'-'}),/*#__PURE__*/_jsx(\"td\",{children:contact.last_conversation_at||contact.last_contacted_at||'-'}),/*#__PURE__*/_jsx(\"td\",{children:(latest===null||latest===void 0?void 0:latest.summary)||contact.conversation_summary||'-'})]},contact.id);})})]}):/*#__PURE__*/_jsx(\"p\",{className:\"empty-state\",children:\"No recent contacts yet.\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-toolbar\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Contacts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:search,onChange:e=>setSearch(e.target.value),placeholder:\"Search name, email, company, notes\",onKeyDown:e=>{if(e.key==='Enter')handleSearch();}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-small\",type:\"button\",onClick:handleSearch,children:\"Search\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtext\",children:searchCountLabel}),/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"contacts-list\",children:contacts.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"data-table contacts-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Source\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Updated\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts.map(contact=>/*#__PURE__*/_jsxs(\"tr\",{className:(selectedContact===null||selectedContact===void 0?void 0:selectedContact.id)===contact.id?'row-selected':'',children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",type:\"button\",onClick:()=>loadContactDetails(contact.id),children:contact.full_name||'(No name)'})}),/*#__PURE__*/_jsx(\"td\",{children:contact.email||'-'}),/*#__PURE__*/_jsx(\"td\",{children:contact.status||'-'}),/*#__PURE__*/_jsx(\"td\",{children:contact.contact_source||'-'}),/*#__PURE__*/_jsx(\"td\",{children:contact.updated_at||'-'})]},contact.id))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"empty-state\",children:\"No contacts found.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Conversation Detail\"}),loadingDetails?/*#__PURE__*/_jsx(\"p\",{children:\"Loading contact details...\"}):selectedContact?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"contact-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",selectedContact.full_name||'-']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",selectedContact.email||'-']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",selectedContact.status||'-']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Source:\"}),\" \",selectedContact.contact_source||'-']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"conversation-list\",children:selectedConversations.length>0?selectedConversations.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"conversation-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"conversation-head\",children:[/*#__PURE__*/_jsx(\"strong\",{children:item.subject||'No subject'}),/*#__PURE__*/_jsx(\"span\",{children:item.occurred_at||item.created_at||'-'})]}),/*#__PURE__*/_jsx(\"p\",{children:item.summary})]},item.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No conversation history yet.\"})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Select a contact to view interaction history.\"})]})]})]})]});}export default Contacts;","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Contacts","_ref","refreshToken","recentContacts","setRecentContacts","contacts","setContacts","selectedContact","setSelectedContact","selectedConversations","setSelectedConversations","search","setSearch","loading","setLoading","loadingDetails","setLoadingDetails","loadContacts","searchValue","arguments","length","undefined","recentRes","listRes","Promise","all","get","params","limit","data","loadContactDetails","contactId","_response$data","response","concat","conversations","error","_error$response","_error$response$data","console","alert","isMounted","catch","_error$response2","_error$response2$data","finally","searchCountLabel","trim","handleSearch","_error$response3","_error$response3$data","className","children","map","contact","latest","recent_interactions","full_name","email","last_conversation_at","last_contacted_at","summary","conversation_summary","id","type","value","onChange","e","target","placeholder","onKeyDown","key","onClick","status","contact_source","updated_at","item","subject","occurred_at","created_at"],"sources":["/home/rob/.openclaw/workspace/campsite-crm/frontend/src/components/Contacts.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport '../styles/Contacts.css';\n\nfunction Contacts({ refreshToken = 0 }) {\n  const [recentContacts, setRecentContacts] = useState([]);\n  const [contacts, setContacts] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [selectedConversations, setSelectedConversations] = useState([]);\n  const [search, setSearch] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [loadingDetails, setLoadingDetails] = useState(false);\n\n  const loadContacts = async (searchValue = '') => {\n    const [recentRes, listRes] = await Promise.all([\n      axios.get('/api/contacts/recent', { params: { limit: 12 } }),\n      axios.get('/api/contacts', { params: { search: searchValue, limit: 150 } })\n    ]);\n\n    setRecentContacts(recentRes.data || []);\n    setContacts(listRes.data || []);\n  };\n\n  const loadContactDetails = async (contactId) => {\n    setLoadingDetails(true);\n    try {\n      const response = await axios.get(`/api/contacts/${contactId}`);\n      setSelectedContact(response.data || null);\n      setSelectedConversations(response.data?.conversations || []);\n    } catch (error) {\n      console.error('Error loading contact details:', error);\n      alert(error.response?.data?.error || 'Unable to load contact details right now');\n    } finally {\n      setLoadingDetails(false);\n    }\n  };\n\n  useEffect(() => {\n    let isMounted = true;\n    setLoading(true);\n    loadContacts(search)\n      .catch((error) => {\n        console.error('Error loading contacts:', error);\n        if (isMounted) alert(error.response?.data?.error || 'Unable to load contacts right now');\n      })\n      .finally(() => {\n        if (isMounted) setLoading(false);\n      });\n\n    return () => {\n      isMounted = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [refreshToken]);\n\n  const searchCountLabel = useMemo(() => {\n    if (!search.trim()) return `${contacts.length} contacts`;\n    return `${contacts.length} results`;\n  }, [contacts.length, search]);\n\n  const handleSearch = async () => {\n    try {\n      setLoading(true);\n      await loadContacts(search);\n    } catch (error) {\n      console.error('Error searching contacts:', error);\n      alert(error.response?.data?.error || 'Unable to search contacts right now');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"card\">\n        <h2>ðŸ‘¥ Contacts</h2>\n        <p>Loading contacts...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"contacts-layout\">\n      <section className=\"card\">\n        <h2>ðŸ•’ Recent Contacts</h2>\n        <p className=\"section-subtext\">Most recently touched contacts and their latest interaction context.</p>\n\n        {recentContacts.length > 0 ? (\n          <table className=\"data-table contacts-table\">\n            <thead>\n              <tr>\n                <th>Contact</th>\n                <th>Email</th>\n                <th>Last Interaction</th>\n                <th>Recent Context</th>\n              </tr>\n            </thead>\n            <tbody>\n              {recentContacts.map((contact) => {\n                const latest = (contact.recent_interactions || [])[0] || null;\n                return (\n                  <tr key={contact.id}>\n                    <td>{contact.full_name || '-'}</td>\n                    <td>{contact.email || '-'}</td>\n                    <td>{contact.last_conversation_at || contact.last_contacted_at || '-'}</td>\n                    <td>{latest?.summary || contact.conversation_summary || '-'}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        ) : (\n          <p className=\"empty-state\">No recent contacts yet.</p>\n        )}\n      </section>\n\n      <section className=\"card\">\n        <div className=\"contacts-toolbar\">\n          <h2>All Contacts</h2>\n          <div className=\"contacts-search\">\n            <input\n              type=\"text\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              placeholder=\"Search name, email, company, notes\"\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') handleSearch();\n              }}\n            />\n            <button className=\"btn btn-primary btn-small\" type=\"button\" onClick={handleSearch}>Search</button>\n          </div>\n        </div>\n        <p className=\"section-subtext\">{searchCountLabel}</p>\n\n        <div className=\"contacts-grid\">\n          <div className=\"contacts-list\">\n            {contacts.length > 0 ? (\n              <table className=\"data-table contacts-table\">\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Status</th>\n                    <th>Source</th>\n                    <th>Updated</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {contacts.map((contact) => (\n                    <tr key={contact.id} className={selectedContact?.id === contact.id ? 'row-selected' : ''}>\n                      <td>\n                        <button className=\"link-btn\" type=\"button\" onClick={() => loadContactDetails(contact.id)}>\n                          {contact.full_name || '(No name)'}\n                        </button>\n                      </td>\n                      <td>{contact.email || '-'}</td>\n                      <td>{contact.status || '-'}</td>\n                      <td>{contact.contact_source || '-'}</td>\n                      <td>{contact.updated_at || '-'}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            ) : (\n              <p className=\"empty-state\">No contacts found.</p>\n            )}\n          </div>\n\n          <div className=\"contacts-details\">\n            <h3>Conversation Detail</h3>\n            {loadingDetails ? (\n              <p>Loading contact details...</p>\n            ) : selectedContact ? (\n              <>\n                <div className=\"contact-meta\">\n                  <div><strong>Name:</strong> {selectedContact.full_name || '-'}</div>\n                  <div><strong>Email:</strong> {selectedContact.email || '-'}</div>\n                  <div><strong>Status:</strong> {selectedContact.status || '-'}</div>\n                  <div><strong>Source:</strong> {selectedContact.contact_source || '-'}</div>\n                </div>\n\n                <div className=\"conversation-list\">\n                  {selectedConversations.length > 0 ? selectedConversations.map((item) => (\n                    <div key={item.id} className=\"conversation-item\">\n                      <div className=\"conversation-head\">\n                        <strong>{item.subject || 'No subject'}</strong>\n                        <span>{item.occurred_at || item.created_at || '-'}</span>\n                      </div>\n                      <p>{item.summary}</p>\n                    </div>\n                  )) : <p>No conversation history yet.</p>}\n                </div>\n              </>\n            ) : (\n              <p>Select a contact to view interaction history.</p>\n            )}\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default Contacts;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAC3D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhC,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAuB,IAAtB,CAAEC,YAAY,CAAG,CAAE,CAAC,CAAAD,IAAA,CACpC,KAAM,CAACE,cAAc,CAAEC,iBAAiB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,eAAe,CAAEC,kBAAkB,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACiB,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACtE,KAAM,CAACmB,MAAM,CAAEC,SAAS,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuB,cAAc,CAAEC,iBAAiB,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAE3D,KAAM,CAAAyB,YAAY,CAAG,cAAAA,CAAA,CAA4B,IAArB,CAAAC,WAAW,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC1C,KAAM,CAACG,SAAS,CAAEC,OAAO,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAC7ChC,KAAK,CAACiC,GAAG,CAAC,sBAAsB,CAAE,CAAEC,MAAM,CAAE,CAAEC,KAAK,CAAE,EAAG,CAAE,CAAC,CAAC,CAC5DnC,KAAK,CAACiC,GAAG,CAAC,eAAe,CAAE,CAAEC,MAAM,CAAE,CAAEhB,MAAM,CAAEO,WAAW,CAAEU,KAAK,CAAE,GAAI,CAAE,CAAC,CAAC,CAC5E,CAAC,CAEFxB,iBAAiB,CAACkB,SAAS,CAACO,IAAI,EAAI,EAAE,CAAC,CACvCvB,WAAW,CAACiB,OAAO,CAACM,IAAI,EAAI,EAAE,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAG,KAAO,CAAAC,SAAS,EAAK,CAC9Cf,iBAAiB,CAAC,IAAI,CAAC,CACvB,GAAI,KAAAgB,cAAA,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAxC,KAAK,CAACiC,GAAG,kBAAAQ,MAAA,CAAkBH,SAAS,CAAE,CAAC,CAC9DvB,kBAAkB,CAACyB,QAAQ,CAACJ,IAAI,EAAI,IAAI,CAAC,CACzCnB,wBAAwB,CAAC,EAAAsB,cAAA,CAAAC,QAAQ,CAACJ,IAAI,UAAAG,cAAA,iBAAbA,cAAA,CAAeG,aAAa,GAAI,EAAE,CAAC,CAC9D,CAAE,MAAOC,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CACdC,OAAO,CAACH,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtDI,KAAK,CAAC,EAAAH,eAAA,CAAAD,KAAK,CAACH,QAAQ,UAAAI,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBR,IAAI,UAAAS,oBAAA,iBAApBA,oBAAA,CAAsBF,KAAK,GAAI,0CAA0C,CAAC,CAClF,CAAC,OAAS,CACRpB,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CACF,CAAC,CAED1B,SAAS,CAAC,IAAM,CACd,GAAI,CAAAmD,SAAS,CAAG,IAAI,CACpB3B,UAAU,CAAC,IAAI,CAAC,CAChBG,YAAY,CAACN,MAAM,CAAC,CACjB+B,KAAK,CAAEN,KAAK,EAAK,KAAAO,gBAAA,CAAAC,qBAAA,CAChBL,OAAO,CAACH,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/C,GAAIK,SAAS,CAAED,KAAK,CAAC,EAAAG,gBAAA,CAAAP,KAAK,CAACH,QAAQ,UAAAU,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBd,IAAI,UAAAe,qBAAA,iBAApBA,qBAAA,CAAsBR,KAAK,GAAI,mCAAmC,CAAC,CAC1F,CAAC,CAAC,CACDS,OAAO,CAAC,IAAM,CACb,GAAIJ,SAAS,CAAE3B,UAAU,CAAC,KAAK,CAAC,CAClC,CAAC,CAAC,CAEJ,MAAO,IAAM,CACX2B,SAAS,CAAG,KAAK,CACnB,CAAC,CACD;AACF,CAAC,CAAE,CAACvC,YAAY,CAAC,CAAC,CAElB,KAAM,CAAA4C,gBAAgB,CAAGvD,OAAO,CAAC,IAAM,CACrC,GAAI,CAACoB,MAAM,CAACoC,IAAI,CAAC,CAAC,CAAE,SAAAb,MAAA,CAAU7B,QAAQ,CAACe,MAAM,cAC7C,SAAAc,MAAA,CAAU7B,QAAQ,CAACe,MAAM,aAC3B,CAAC,CAAE,CAACf,QAAQ,CAACe,MAAM,CAAET,MAAM,CAAC,CAAC,CAE7B,KAAM,CAAAqC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFlC,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAG,YAAY,CAACN,MAAM,CAAC,CAC5B,CAAE,MAAOyB,KAAK,CAAE,KAAAa,gBAAA,CAAAC,qBAAA,CACdX,OAAO,CAACH,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDI,KAAK,CAAC,EAAAS,gBAAA,CAAAb,KAAK,CAACH,QAAQ,UAAAgB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBpB,IAAI,UAAAqB,qBAAA,iBAApBA,qBAAA,CAAsBd,KAAK,GAAI,qCAAqC,CAAC,CAC7E,CAAC,OAAS,CACRtB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBACEhB,KAAA,QAAKsD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzD,IAAA,OAAAyD,QAAA,CAAI,uBAAW,CAAI,CAAC,cACpBzD,IAAA,MAAAyD,QAAA,CAAG,qBAAmB,CAAG,CAAC,EACvB,CAAC,CAEV,CAEA,mBACEvD,KAAA,QAAKsD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BvD,KAAA,YAASsD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACvBzD,IAAA,OAAAyD,QAAA,CAAI,8BAAkB,CAAI,CAAC,cAC3BzD,IAAA,MAAGwD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,sEAAoE,CAAG,CAAC,CAEtGjD,cAAc,CAACiB,MAAM,CAAG,CAAC,cACxBvB,KAAA,UAAOsD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAC1CzD,IAAA,UAAAyD,QAAA,cACEvD,KAAA,OAAAuD,QAAA,eACEzD,IAAA,OAAAyD,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBzD,IAAA,OAAAyD,QAAA,CAAI,OAAK,CAAI,CAAC,cACdzD,IAAA,OAAAyD,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBzD,IAAA,OAAAyD,QAAA,CAAI,gBAAc,CAAI,CAAC,EACrB,CAAC,CACA,CAAC,cACRzD,IAAA,UAAAyD,QAAA,CACGjD,cAAc,CAACkD,GAAG,CAAEC,OAAO,EAAK,CAC/B,KAAM,CAAAC,MAAM,CAAG,CAACD,OAAO,CAACE,mBAAmB,EAAI,EAAE,EAAE,CAAC,CAAC,EAAI,IAAI,CAC7D,mBACE3D,KAAA,OAAAuD,QAAA,eACEzD,IAAA,OAAAyD,QAAA,CAAKE,OAAO,CAACG,SAAS,EAAI,GAAG,CAAK,CAAC,cACnC9D,IAAA,OAAAyD,QAAA,CAAKE,OAAO,CAACI,KAAK,EAAI,GAAG,CAAK,CAAC,cAC/B/D,IAAA,OAAAyD,QAAA,CAAKE,OAAO,CAACK,oBAAoB,EAAIL,OAAO,CAACM,iBAAiB,EAAI,GAAG,CAAK,CAAC,cAC3EjE,IAAA,OAAAyD,QAAA,CAAK,CAAAG,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEM,OAAO,GAAIP,OAAO,CAACQ,oBAAoB,EAAI,GAAG,CAAK,CAAC,GAJ1DR,OAAO,CAACS,EAKb,CAAC,CAET,CAAC,CAAC,CACG,CAAC,EACH,CAAC,cAERpE,IAAA,MAAGwD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,yBAAuB,CAAG,CACtD,EACM,CAAC,cAEVvD,KAAA,YAASsD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACvBvD,KAAA,QAAKsD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BzD,IAAA,OAAAyD,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBvD,KAAA,QAAKsD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BzD,IAAA,UACEqE,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEtD,MAAO,CACduD,QAAQ,CAAGC,CAAC,EAAKvD,SAAS,CAACuD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3CI,WAAW,CAAC,oCAAoC,CAChDC,SAAS,CAAGH,CAAC,EAAK,CAChB,GAAIA,CAAC,CAACI,GAAG,GAAK,OAAO,CAAEvB,YAAY,CAAC,CAAC,CACvC,CAAE,CACH,CAAC,cACFrD,IAAA,WAAQwD,SAAS,CAAC,2BAA2B,CAACa,IAAI,CAAC,QAAQ,CAACQ,OAAO,CAAExB,YAAa,CAAAI,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC/F,CAAC,EACH,CAAC,cACNzD,IAAA,MAAGwD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAEN,gBAAgB,CAAI,CAAC,cAErDjD,KAAA,QAAKsD,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BzD,IAAA,QAAKwD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B/C,QAAQ,CAACe,MAAM,CAAG,CAAC,cAClBvB,KAAA,UAAOsD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAC1CzD,IAAA,UAAAyD,QAAA,cACEvD,KAAA,OAAAuD,QAAA,eACEzD,IAAA,OAAAyD,QAAA,CAAI,MAAI,CAAI,CAAC,cACbzD,IAAA,OAAAyD,QAAA,CAAI,OAAK,CAAI,CAAC,cACdzD,IAAA,OAAAyD,QAAA,CAAI,QAAM,CAAI,CAAC,cACfzD,IAAA,OAAAyD,QAAA,CAAI,QAAM,CAAI,CAAC,cACfzD,IAAA,OAAAyD,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRzD,IAAA,UAAAyD,QAAA,CACG/C,QAAQ,CAACgD,GAAG,CAAEC,OAAO,eACpBzD,KAAA,OAAqBsD,SAAS,CAAE,CAAA5C,eAAe,SAAfA,eAAe,iBAAfA,eAAe,CAAEwD,EAAE,IAAKT,OAAO,CAACS,EAAE,CAAG,cAAc,CAAG,EAAG,CAAAX,QAAA,eACvFzD,IAAA,OAAAyD,QAAA,cACEzD,IAAA,WAAQwD,SAAS,CAAC,UAAU,CAACa,IAAI,CAAC,QAAQ,CAACQ,OAAO,CAAEA,CAAA,GAAM1C,kBAAkB,CAACwB,OAAO,CAACS,EAAE,CAAE,CAAAX,QAAA,CACtFE,OAAO,CAACG,SAAS,EAAI,WAAW,CAC3B,CAAC,CACP,CAAC,cACL9D,IAAA,OAAAyD,QAAA,CAAKE,OAAO,CAACI,KAAK,EAAI,GAAG,CAAK,CAAC,cAC/B/D,IAAA,OAAAyD,QAAA,CAAKE,OAAO,CAACmB,MAAM,EAAI,GAAG,CAAK,CAAC,cAChC9E,IAAA,OAAAyD,QAAA,CAAKE,OAAO,CAACoB,cAAc,EAAI,GAAG,CAAK,CAAC,cACxC/E,IAAA,OAAAyD,QAAA,CAAKE,OAAO,CAACqB,UAAU,EAAI,GAAG,CAAK,CAAC,GAT7BrB,OAAO,CAACS,EAUb,CACL,CAAC,CACG,CAAC,EACH,CAAC,cAERpE,IAAA,MAAGwD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CACjD,CACE,CAAC,cAENvD,KAAA,QAAKsD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BzD,IAAA,OAAAyD,QAAA,CAAI,qBAAmB,CAAI,CAAC,CAC3BrC,cAAc,cACbpB,IAAA,MAAAyD,QAAA,CAAG,4BAA0B,CAAG,CAAC,CAC/B7C,eAAe,cACjBV,KAAA,CAAAE,SAAA,EAAAqD,QAAA,eACEvD,KAAA,QAAKsD,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BvD,KAAA,QAAAuD,QAAA,eAAKzD,IAAA,WAAAyD,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAAC7C,eAAe,CAACkD,SAAS,EAAI,GAAG,EAAM,CAAC,cACpE5D,KAAA,QAAAuD,QAAA,eAAKzD,IAAA,WAAAyD,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAC7C,eAAe,CAACmD,KAAK,EAAI,GAAG,EAAM,CAAC,cACjE7D,KAAA,QAAAuD,QAAA,eAAKzD,IAAA,WAAAyD,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAAC7C,eAAe,CAACkE,MAAM,EAAI,GAAG,EAAM,CAAC,cACnE5E,KAAA,QAAAuD,QAAA,eAAKzD,IAAA,WAAAyD,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAAC7C,eAAe,CAACmE,cAAc,EAAI,GAAG,EAAM,CAAC,EACxE,CAAC,cAEN/E,IAAA,QAAKwD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/B3C,qBAAqB,CAACW,MAAM,CAAG,CAAC,CAAGX,qBAAqB,CAAC4C,GAAG,CAAEuB,IAAI,eACjE/E,KAAA,QAAmBsD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9CvD,KAAA,QAAKsD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzD,IAAA,WAAAyD,QAAA,CAASwB,IAAI,CAACC,OAAO,EAAI,YAAY,CAAS,CAAC,cAC/ClF,IAAA,SAAAyD,QAAA,CAAOwB,IAAI,CAACE,WAAW,EAAIF,IAAI,CAACG,UAAU,EAAI,GAAG,CAAO,CAAC,EACtD,CAAC,cACNpF,IAAA,MAAAyD,QAAA,CAAIwB,IAAI,CAACf,OAAO,CAAI,CAAC,GALbe,IAAI,CAACb,EAMV,CACN,CAAC,cAAGpE,IAAA,MAAAyD,QAAA,CAAG,8BAA4B,CAAG,CAAC,CACrC,CAAC,EACN,CAAC,cAEHzD,IAAA,MAAAyD,QAAA,CAAG,+CAA6C,CAAG,CACpD,EACE,CAAC,EACH,CAAC,EACC,CAAC,EACP,CAAC,CAEV,CAEA,cAAe,CAAApD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}