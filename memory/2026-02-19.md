# 2026-02-19 â€” Overnight Session

## HedgeEngine â€” Save/Load Presets âœ…
- Rob requested localStorage-based preset save/restore for promo configurations
- Sonnet builder completed in ~3 min, clean build
- Features: named presets, inline save/rename/delete UI (no popups), survives refresh
- Committed, pushed, deployed to GitHub Pages
- Rob said "HedgeEngine saves look great thanks!!!"

## Blofin Pipeline â€” Major Bug Fix + Cleanup âœ…
- **BUY/SELL normalization bug found and fixed**: strategies emit BUY/SELL but engine compared against LONG/SHORT â€” caused 100% win rate on everything (SL/TP logic inverted)
- All 31 strategies demoted to T0 (every pre-fix backtest was invalid)
- 22 orphan registry entries (strategy_001-022) deleted
- Strategy cleanup builder fixed 7 zero-trade strategies â€” root cause: `volume` column is tick count, not real trading volume. All volume-spike thresholds were impossible. Multipliers lowered to â‰¤0.8 to bypass until real volume data available.
- Pipeline cron ran successfully at 00:15 MST with honest metrics: 12 T0â†’T1 promotions, WR 66-80%, Sharpe 0.08-0.25
- **Key insight**: Pipeline smoke test uses 5000 ticks (~10 candles) â€” too few for strategies needing 25+ candle warm-up. May need bumping to 50K ticks.
- 45/45 tests pass, committed and pushed to main

## Numerai Era-Boosting â€” Fixed âœ… + Full Run In Progress
- Early stopping bug: `early_stopping=30` killed era-boost rounds after 1 tree
- Fix was already in the code (a builder wrote it before dying): `fixed_num_rounds` param in `train_lgb()`, round 0 uses early stopping, rounds 1+ use fixed tree count (clamped to min 300)
- 3 sonnet builders died silently trying to run this â€” had to run it directly in main session
- **Medium run results (50K rows):**
  - Mean corr: 0.00191 â†’ 0.00786 (+312%)
  - Sharpe: 0.145 â†’ 0.557 (+284%)
  - Feature exposure: 0.4635 â†’ 0.1049 (-77%) â€” huge for MMC
  - Era std did NOT improve (went up 7.3%) â€” formal gate not met
- Full dataset run (2.7M rows) kicked off at ~06:51 MST, still running in background (process `clear-tidepool`)
- Committed and pushed to master

## Numerai Performance Audit (07:08 MST)
- **Submissions happening via local bot** (`multi_model_daily_bot.py`) at 6 AM MST daily â€” NOT pickle uploads
- Bot is NOT running as a systemd service â€” unclear how it's still running (maybe a surviving terminal?)
- **Performance is poor:**
  - robbyrobml: 26 rounds, mean CORR -0.0043, 27% win rate
  - robbyrob2: 13 rounds, mean CORR -0.0057, **0% win rate** (but FNC +0.0139)
  - robbyrob3: too new for resolved data
- Feb 10 submission gap â€” all 3 missed simultaneously (power outage?)
- Results written to PERFORMANCE.md
- Rob wants pickle uploads to Numerai compute instead of local bot â€” builder investigating

## Numerai Pickle Deploy (07:11 MST) â€” Builder Spawned
- Rob wants models uploaded as pickles to Numerai compute (server-side predictions)
- Rob says he tried before and "they are picky on how those actually work"
- Sonnet builder researching requirements first, then attempting deploy
- No results back yet as of 08:20 MST

## Numerai Full Run â€” Died Silently
- Full dataset run (2.7M rows) kicked off at ~06:51 MST via background process `clear-tidepool`
- Process disappeared â€” no `exp001_full` entry in experiment_log.csv
- Needs to be restarted (deferred while Rob is actively working on other things)

## Agent Stack Research Project (07:13 MST) âœ… All 4 Phases Complete
- Rob wants better task organization, agent visibility, and tracking
- 4-phase research project: Research â†’ PRD â†’ Critic Review â†’ Executive Summary
- All outputs in `/docs/agent-stack/`
- **Key findings:**
  - Current Jarvis/OpenClaw setup already handles most of what these tools offer
  - Subagents (not agent teams) are the right primitive for COOâ†’specialist pattern
  - Dynamic Kanban MCP deferred â€” over-engineered for solo operator, status.json already works
  - Ruflo (Claude-Flow) deferred â€” v3alpha, 340MB, premature
  - **Critic found 4 critical issues in PRD:** hook scripts reference wrong env vars (Claude uses stdin JSON), COO persona is architecturally broken (Jarvis IS the main session), MCP inheritance loophole, config path unverified
  - **Recommended scope:** 5 agent definition files + QA sentinel + enforcement hooks (once verified). No new infrastructure.
  - **First action:** Smoke test Claude Code hook API on omen-claw
- Rob hasn't reviewed the docs yet

## Subagent Reliability Issues (Overnight Lesson) ðŸ“
- Sonnet builders for Numerai kept dying silently (3 attempts, 0 messages each)
- Root cause likely: large parquet data loading (2.3GB + 3.7GB files) + timeout
- Lesson: tasks involving heavy data loading (multi-GB files) should be run directly in main session, not delegated to subagents
- The fix itself was trivial â€” it was the training run that needed main session resources

## System Health
- CPU temps 60-84Â°C (normal range)
- Disk jumped to 49% (from 35%) â€” Numerai parquet files (~6GB)
- Git LFS backup failing (>2GB objects rejected by GitHub) â€” likely the parquet files getting swept in
- All Blofin services active, gateway active, no critical alerts
