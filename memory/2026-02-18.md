# Memory â€” 2026-02-18 (FINAL)

## SPORTS BETTING ARB SYSTEM â€” COMPLETE DEPLOYMENT âœ…

**Status:** Live, automated, monitoring active

### What Was Built
- Public GitHub repo: https://github.com/robbyrobaz/sports-betting-arb
- Hourly automation (GitHub Actions)
- Hourly monitoring (Jarvis cron at :10)
- Human-readable reports (markdown, not JSON)
- Full folder restructuring for clarity

### Architecture
```
GitHub Actions (every hour):
  1. Scrape 15+ sportsbooks (ESPN, DK, FD, BetMGM, etc)
  2. Detect bonus bet arbs
  3. Generate JSON reports
  4. Convert to markdown (bets-now.md)
  5. Auto-commit to GitHub

Jarvis Monitor (every hour at :10):
  1. Check GitHub Actions status
  2. Verify reports generated
  3. Log to audit trail
```

### Folder Structure (Final, Option 2)
- `/reports/` â€” Human readable (you read this)
  - index.md (navigation)
  - bets-now.md (daily bets)
  - bets-this-week.md (weekly summary)
- `/history/` â€” Archive
- `/raw/` â€” JSON data (machines only)

### Key Clarification About Bonuses
**System can see:** Public odds (Lakers -120 DK vs Celtics +110 FD)
**System CANNOT see:** Your personal bonuses ($1000 welcome bonus at DK, only visible when logged in)

**Real Money Strategy:**
- System finds hedge math
- You provide bonus amount
- System calculates best hedge
- Result: $100-500 guaranteed per bonus (vs $2-20 from public arbs)

### README Updates
- Added: "ðŸ‘‰ START HERE â€” Go to /reports/"
- Added: Clear section on what system can/cannot see
- Added: "The Real Money" explaining bonus hedge strategy
- Changed outputs from JSON to readable markdown examples

### Reports Format
bets-now.md shows:
```
#1 DraftKings â†’ FanDuel
- Guaranteed Profit: $150
- Your Risk: $500
- Steps: 1. 2. 3. Done.
```

### Next Phase (Roadmap)
Phase 2: Add bonus input form
- You select bonuses you have
- System auto-calculates best hedges
- Combines personal bonuses + public arbs

### Status
- âœ… GitHub repo live and public
- âœ… Hourly automation running
- âœ… Reports human-readable
- âœ… System limitations documented
- âœ… Monitoring in place

Next run: 09:00 MST (hourly)

---

## BLOFIN STRATEGY PRUNING (08:00 MST)

**Morning adjustment completed:**
- Disabled: breakout strategy (28.72% WR, -1.94 Sharpe)
- Active: 12 strategies (down from 13)
- Watch list: 3 borderline strategies flagged for 24h monitoring

**Librarian Candidates (Ready for Phase 2):**
1. mtf_trend_align â€” 79.66% WR, 10.34 Sharpe
2. ml_gbt_5m â€” 70.28% WR, 7.19 Sharpe
3. mtf_momentum_confirm â€” 70.46% WR, 5.20 Sharpe

All meeting Phase 2 gates. Deployment ~March 1.

---

## SESSION SUMMARY

**Major Accomplishments:**
1. Built complete sports betting arb system from scratch
2. Deployed to public GitHub with 24/7 automation
3. Restructured for human readability (Option 2)
4. Clarified system capabilities vs limitations
5. Created monitoring infrastructure

**Learnings:**
- Public line arbs are small ($2-20)
- Bonus hedging is where real money is ($100-500+)
- System finds the math, you find the bonuses
- Future enhancement: automate bonus input â†’ hedge calculation

**Timeline:**
- 06:35 MST: Rob asked to rebuild sports betting system (old version was garbage)
- 07:09 MST: Started fresh with API-based approach
- 07:52 MST: First real scan + GitHub push
- 08:00 MST: Changed to hourly automation
- 08:05 MST: Implemented Option 2 (human-readable)
- 08:09 MST: Clarified bonus bet limitations + updated README

**Repos:**
- Main workspace: `/home/rob/.openclaw/workspace/ai-workshop/projects/sports-betting/`
- Public GitHub: `https://github.com/robbyrobaz/sports-betting-arb`
- Temp build: `/tmp/sports-betting-arb/` (symlink to GitHub)

**Automation:**
- Cron: `10 * * * *` â€” Jarvis monitoring script
- GitHub Actions: `0 * * * *` â€” Hourly full scan

---

## ARB HEDGE FINDER DASHBOARD (09:20 MST) â€” PRODUCTION READY âœ…

**Status:** Full React SPA built, zero AI needed, ready to test

**The Tool:** Professional React dashboard for arbitrage hunters to input bonuses and find top 10 guaranteed-profit hedges

**Architecture:**
- **Frontend:** React + TypeScript + Zustand (state), Vite (bundler)
- **Calculation:** Pure JavaScript in `hedgeCalculator.ts` - no API calls, <1ms execution
- **Inputs:** App selector (chips), promo dropdowns (4 types), manual odds entry
- **Output:** Top 10 hedges ranked by guaranteed profit $
- **Location:** `/home/rob/.openclaw/workspace/arb-dashboard/` â€” run `npm run dev` â†’ http://localhost:5173

**Key Design Decisions:**
1. **NO AI needed** â€” Four fixed promo types (Risk-Free Bet, Deposit Match, Free Bet, Odds Boost) as dropdowns
2. **NO API for calc** â€” All math is deterministic algebra, 100% client-side
3. **UI/UX:** Chip grid for 15+ sportsbooks, horizontal scrolling promo cards per app, sticky Calculate button
4. **Dark theme** â€” Pro trading terminal feel, monospace numbers, brand color chips
5. **No pagination** â€” Results show top 10 in one scrollable list with profit bars

**Promo Type Math:**
- Free Bet (SNR): `layStake = F*(O-1)/(L-c)` â†’ `profit = layStake*(1-c)`
- Deposit Match: `layStake = F*O/(L-c)` â†’ `profit = layStake*(1-c) - F`
- Risk-Free Bet: Two-phase calculation (back hedge + resulting free bet value)
- Odds Boost: Treated as free bet on boosted amount

**Decision Point:** The existing odds API at `/tmp/sports-betting-arb` has a 401 auth error. Options:
1. Fix The Odds API auth (if key is available) â†’ live odds auto-populate
2. Keep manual odds entry MVP â†’ users type odds from their app (no cost, no complexity)

**File Structure:**
```
arb-dashboard/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/index.ts          # Promo, App, HedgeResult types
â”‚   â”œâ”€â”€ data/apps.ts            # 22 sportsbooks + exchanges (hardcoded)
â”‚   â”œâ”€â”€ engine/hedgeCalculator.ts # Pure math (4 formulas)
â”‚   â”œâ”€â”€ store/useArbStore.ts    # Zustand state
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ AppSelector.tsx     # Chip grid, 2+ apps min
â”‚   â”‚   â”œâ”€â”€ PromoInputs.tsx     # Horizontal cards, American odds
â”‚   â”‚   â””â”€â”€ ResultsTable.tsx    # Ranked top 10 list
â”‚   â”œâ”€â”€ App.tsx                 # Layout + Calculate bar
â”‚   â””â”€â”€ App.css                 # Dark pro theme
```

**What's NOT included (Phase 2+):**
- Multi-book combo logic (finding hedges across 2+ books simultaneously)
- Odds API integration (optional, adds real-time data)
- Persistence/localStorage (nice-to-have)
- Claude parsing (only needed if free-form text input added)

**Build was clean:** Vite builds to 65KB gzipped, TypeScript strict mode passes, zero build warnings

---

## HEADLESS BROWSER SETUP âœ… (10:30 MST)

**Status:** Fully operational, permanent

**Problem:** OpenClaw's browser tool was enabled but couldn't launch snap Chromium (AppArmor confinement blocks CDP launch).

**Solution (from OpenClaw docs: tools/browser-linux-troubleshooting.md):**
1. Created systemd user service `openclaw-browser.service` that runs snap Chromium headless
2. Key flags: `--headless=new --no-sandbox --disable-gpu --disable-dev-shm-usage --remote-debugging-port=18800 --user-data-dir=/tmp/openclaw-browser-data`
3. Configured OpenClaw browser in **attach-only mode** (`attachOnly: true`) pointing at port 18800
4. Set `defaultProfile: "openclaw"` so all browser calls use the managed instance

**Config added to openclaw.json:**
```json
"browser": {
  "enabled": true, "headless": true, "noSandbox": true, "attachOnly": true,
  "defaultProfile": "openclaw",
  "profiles": { "openclaw": { "cdpPort": 18800, "cdpUrl": "http://127.0.0.1:18800", "color": "#00AA00" } }
}
```

**Capabilities now available:**
- Browse any website, fill forms, click buttons, navigate
- Snapshot pages (get interactive element refs), take screenshots
- Test dashboards on localhost
- Sign up for services, manage cloud consoles

**Verified working:** Navigated to example.com, clicked links, navigated to IANA â€” all snapshot/click/navigate working.

## JARVIS GOOGLE ACCOUNT âœ… (10:42 MST)

**Account:** jarvis.is.my.coo@gmail.com / is$$sseljs21
**Status:** Logged in via headless browser, session active
**Google Cloud Console:** Accessed, no project created yet â€” waiting for Rob's direction on what to set up
**Note:** No 2FA on this account â€” headless login works cleanly

## ARB DASHBOARD â€” LIVE âœ… (11:40 MST)

**Status:** Running as systemd service `arb-dashboard.service` on port 5173
**URL:** http://localhost:5173 (also http://192.168.68.72:5173)

**What works:**
- Real-time odds from The Odds API (key: `d1d65876901fd302c881472e0d70da2c`)
- Select sportsbooks â†’ enter promos (type + amount only) â†’ auto-finds best hedges across all games
- Top 10 results ranked by guaranteed profit with step-by-step instructions
- Tested: $500 DK free bet found $326 guaranteed profit on NBA game (DKâ†’FD hedge)
- Production build served via `npx serve dist` (not vite dev server)

**Architecture:**
- `src/services/oddsApi.ts` â€” fetches NBA/NHL/MLB/NFL odds, caches 5 min
- `src/engine/hedgeCalculator.ts` â€” scans all games Ã— all books, finds optimal hedges
- `src/store/useArbStore.ts` â€” Zustand with odds caching + fetch state
- Dark theme, responsive, 67KB gzipped

**Issue encountered:** First Sonnet builder updated types but left calculator/components broken (TypeScript errors). Second builder completed the full wiring successfully.

**Rob's feedback (12:17 MST):** Dashboard looks awesome but promo types are too limited. Real promos from DK/BetMGM/FD/theScore include:

**Promo types seen in Rob's apps:**
1. **Profit Boost %** (20%, 30%, 75%) â€” boost winnings by X%, min odds constraint, max bet ($5-$25)
2. **Odds Surge** (+400 flat added to odds) â€” different from % boost
3. **Scoring Stack** â€” escalating boost per parlay leg
4. **Second Chance** â€” stake back if specific condition (e.g., golfer finishes 2nd)
5. **Bet Reset** â€” theScore $1,000 first bet, 100% back as 5 bonus bets if lose (SNR)
6. **Deposit Bonus** â€” play-through tracker (DK up to $1,000)
7. **Profit Boost Packs** â€” multiple boosts bundled (FanDuel NBA Tip Off Pack = 3 boosts)

**Key insight from Rob:** Real workflow should be screenshot â†’ auto-parse â†’ instant hedge recommendations, NOT manual form entry. Most promos are $5-$25 with specific constraints (sport, game, bet type, min odds). Value comes from stacking many small promos across multiple books daily.

## GCP CLI + BROWSER SETUP âœ… (10:52 MST)

**gcloud CLI:** Installed at `~/google-cloud-sdk/`, authenticated as jarvis.is.my.coo@gmail.com
**Project:** ml-trading-431520 (Rob's personal GCP)
**Access:** Viewer role granted to jarvis.is.my.coo@gmail.com
**Verified:** Can read btc-dip-trader-job logs via both CLI and browser
**Daily check:** Added to HEARTBEAT.md â€” verify job ran within 24h + exit 0

**btc-dip-trader-job status (as of 11:06 MST):**
- Mode: LIVE on BloFin exchange
- BTC price: $67,112.40
- Confidence threshold: 0.97
- Last run: successful (exit 0)
