# 2026-02-11

## Durable notes

- Restored workspace from GitHub repo `robbyrobaz/openclaw-2nd-brain` at commit `9f8e04d` (`backup: knowledge-base sync 2026-02-11T19:06:33Z`).
- Confirmed GitHub OAuth for this laptop via `gh` and authenticated as `robbyrobaz`.
- Verified `openclaw-2nd-brain` contains knowledge-base scaffold + backup scripts/runbooks, but no Blofin websocket runtime artifacts in repo history.
- Confirmed offsite full-backup restore depends on private `scripts/offsite-backup.env` (not present on this laptop), so remote backup endpoint details are currently unavailable locally.
- Rebuilt baseline Blofin websocket research monitor stack in workspace:
  - `blofin-research/ws_monitor.py`
  - `blofin-research/.env.example`
  - `blofin-research/systemd/blofin-research.service`
  - `scripts/install-blofin-research-service.sh`
  - `runbooks/blofin-restore-and-autostart.md`
  - `projects/ops-kanban-board.md`
- Installed and enabled autostart user service: `blofin-research.service` (`systemctl --user enable --now`), status active/running at setup time.
- Committed rebuild changes in git:
  - commit `a2a0520` — `restore: rebuild blofin monitor service + kanban/runbook`.

## Durable notes (22:07 MST update)

- Built and enabled full Blofin monitoring stack in `blofin-stack/`:
  - `ingestor.py` (25-token WS ingestion)
  - `db.py` (SQLite schema: ticks/signals/heartbeats)
  - `api_server.py` (dashboard + APIs)
- Active local URLs:
  - `http://127.0.0.1:8780/` (main dashboard)
  - `http://127.0.0.1:8780/api/summary`
  - `http://127.0.0.1:8780/api/signals?limit=100`
  - `http://127.0.0.1:8780/api/ticks/latest?limit=100`
- Services enabled/running via `systemctl --user`:
  - `blofin-stack-ingestor.service`
  - `blofin-stack-api.service`
  - `openclaw-full-restore-backup.timer`
- Verified ingestion state after restore build:
  - ticks: 1800
  - symbols: 25
  - signals: 2
- Backup/restore operational assets added:
  - `scripts/blofin-db-backup.sh`
  - `scripts/blofin-db-restore.sh`
  - `runbooks/blofin-stack-operations.md`
  - `runbooks/blofin-stack-backup-restore.md`
  - full-workspace backup repo: `robbyrobaz/openclaw-full-restore`
- Current workspace git position includes restoration commits through:
  - `9bf9f17`, `6eabe6a`, `5ac81e5` (ahead of `second-brain/main`).

## Durable notes (22:10-22:13 MST update)

- User requested single, pretty Blofin dashboard and removal of multiple parallel dashboards.
- Implemented upgraded single dashboard at `http://127.0.0.1:8780/` with:
  - token list (25 configured symbols)
  - selectable token price chart
  - recent pattern signals (momentum, breakout, reversal)
  - token activity table
  - gap-fill reporting table
- Added historical gap-fill subsystem:
  - `blofin-stack/historical_backfill.py`
  - REST pull-based backfill into SQLite for detected gaps
  - source tagging uses `historical_fill` in `ticks.source`
  - gap-fill run audit writes to `gap_fill_runs` table (gaps found, rows inserted, note)
- Added/enabled gap-fill automation:
  - `systemd/blofin-stack-gapfill.service`
  - `systemd/blofin-stack-gapfill.timer` (every 30 minutes)
  - installer script: `scripts/install-blofin-stack-gapfill.sh`
- Disabled extra legacy dashboards to keep one main dashboard:
  - `blofin-dashboard.service` disabled/stopped
  - `ops-kanban-dashboard.service` disabled/stopped
- Added APIs for operations visibility:
  - `/api/gap-fills`
  - `/api/timeseries?symbol=...`
  - `/api/summary`
- Commit checkpoint:
  - `2204c64` — `feat: pretty single blofin dashboard + historical gap filler`.

## Durable notes (22:29-22:31 MST hotfix)

- User reported dashboard outage at `http://127.0.0.1:8780/`.
- Root cause: JS template interpolation in `blofin-stack/api_server.py` was not escaped inside Python f-string (`${t.id}`), causing runtime NameError and empty HTTP reply.
- Fixed by escaping JS template refs to `${{t.id}}` in Kanban task button handlers.
- Restarted `blofin-stack-api.service` and re-validated:
  - `/` loads HTML successfully
  - `/api/kanban/tasks` returns board/task JSON and shows auto-picked task in `in_progress`.
- Commit checkpoint:
  - `f2d95b8` — `fix: escape js template refs so dashboard renders`.
