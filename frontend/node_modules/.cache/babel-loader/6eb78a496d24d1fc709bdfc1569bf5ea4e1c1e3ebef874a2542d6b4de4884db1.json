{"ast":null,"code":"import React from'react';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{Bar}from'react-chartjs-2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);function GuestTypeChart(_ref){let{data=[]}=_ref;const labels=data.map(item=>item.guest_type||'Unknown');const revenueData=data.map(item=>item.total_revenue||0);const bookingCounts=data.map(item=>item.booking_count||0);const chartData={labels,datasets:[{label:'Revenue',data:revenueData,backgroundColor:'rgba(0, 217, 255, 0.8)',borderColor:'rgba(0, 149, 202, 0.8)',yAxisID:'yRevenue'},{label:'Bookings',data:bookingCounts,backgroundColor:'rgba(255, 86, 110, 0.7)',borderColor:'rgba(255, 86, 110, 1)',yAxisID:'yBookings'}]};const options={responsive:true,maintainAspectRatio:false,interaction:{mode:'index',intersect:false},plugins:{legend:{position:'bottom'},tooltip:{callbacks:{label:context=>{const label=context.dataset.label||'';const value=context.parsed.y;if(context.dataset.yAxisID==='yRevenue'){return\"\".concat(label,\": $\").concat(value.toLocaleString());}return\"\".concat(label,\": \").concat(value);}}}},scales:{yRevenue:{type:'linear',position:'left',title:{display:true,text:'Revenue ($)'},grid:{drawOnChartArea:true}},yBookings:{type:'linear',position:'right',title:{display:true,text:'Booking Count'},grid:{drawOnChartArea:false}}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card guest-type-chart-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-heading\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Revenue by Guest Type\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Compare booking volume vs. revenue\"})]}),labels.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"chart-wrapper\",children:/*#__PURE__*/_jsx(Bar,{data:chartData,options:options})}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No guest type data available yet.\"})})]});}export default GuestTypeChart;","map":{"version":3,"names":["React","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","jsx","_jsx","jsxs","_jsxs","register","GuestTypeChart","_ref","data","labels","map","item","guest_type","revenueData","total_revenue","bookingCounts","booking_count","chartData","datasets","label","backgroundColor","borderColor","yAxisID","options","responsive","maintainAspectRatio","interaction","mode","intersect","plugins","legend","position","tooltip","callbacks","context","dataset","value","parsed","y","concat","toLocaleString","scales","yRevenue","type","title","display","text","grid","drawOnChartArea","yBookings","className","children","length"],"sources":["/home/rob/.openclaw/workspace/campsite-crm/frontend/src/components/GuestTypeChart.jsx"],"sourcesContent":["import React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\n\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\n\nfunction GuestTypeChart({ data = [] }) {\n  const labels = data.map((item) => item.guest_type || 'Unknown');\n  const revenueData = data.map((item) => item.total_revenue || 0);\n  const bookingCounts = data.map((item) => item.booking_count || 0);\n\n  const chartData = {\n    labels,\n    datasets: [\n      {\n        label: 'Revenue',\n        data: revenueData,\n        backgroundColor: 'rgba(0, 217, 255, 0.8)',\n        borderColor: 'rgba(0, 149, 202, 0.8)',\n        yAxisID: 'yRevenue'\n      },\n      {\n        label: 'Bookings',\n        data: bookingCounts,\n        backgroundColor: 'rgba(255, 86, 110, 0.7)',\n        borderColor: 'rgba(255, 86, 110, 1)',\n        yAxisID: 'yBookings'\n      }\n    ]\n  };\n\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    interaction: {\n      mode: 'index',\n      intersect: false\n    },\n    plugins: {\n      legend: {\n        position: 'bottom'\n      },\n      tooltip: {\n        callbacks: {\n          label: (context) => {\n            const label = context.dataset.label || '';\n            const value = context.parsed.y;\n            if (context.dataset.yAxisID === 'yRevenue') {\n              return `${label}: $${value.toLocaleString()}`;\n            }\n            return `${label}: ${value}`;\n          }\n        }\n      }\n    },\n    scales: {\n      yRevenue: {\n        type: 'linear',\n        position: 'left',\n        title: {\n          display: true,\n          text: 'Revenue ($)'\n        },\n        grid: {\n          drawOnChartArea: true\n        }\n      },\n      yBookings: {\n        type: 'linear',\n        position: 'right',\n        title: {\n          display: true,\n          text: 'Booking Count'\n        },\n        grid: {\n          drawOnChartArea: false\n        }\n      }\n    }\n  };\n\n  return (\n    <div className=\"card guest-type-chart-card\">\n      <div className=\"card-heading\">\n        <h3>ðŸ“Š Revenue by Guest Type</h3>\n        <p>Compare booking volume vs. revenue</p>\n      </div>\n      {labels.length > 0 ? (\n        <div className=\"chart-wrapper\">\n          <Bar data={chartData} options={options} />\n        </div>\n      ) : (\n        <div className=\"empty-state\">\n          <p>No guest type data available yet.</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default GuestTypeChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}