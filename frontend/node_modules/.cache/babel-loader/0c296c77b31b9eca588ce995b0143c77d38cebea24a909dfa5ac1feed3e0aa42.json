{"ast":null,"code":"import _objectSpread from\"/home/rob/.openclaw/workspace/campsite-crm/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import axios from'axios';import'../styles/IntegrationHub.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const INITIAL_SETTINGS={chatgpt_enabled:false,workspace_name:'Campsite CRM',openai_api_key:'',openai_model:'gpt-4.1-mini',mcp_shared_secret:'',oauth_enabled:false,oauth_client_id:'',oauth_client_secret:'',oauth_redirect_uri:'',gmail_scan_enabled:false,gmail_account_email:'',gmail_access_token:'',gmail_scan_window_days:45,mcp_url:'',oauth_redirect_default:'',openai_key_configured:false,mcp_secret_configured:false,oauth_client_secret_configured:false,gmail_token_configured:false};function IntegrationHub(_ref){let{onRefreshData,onRefreshTasks,onRefreshContacts}=_ref;const[settings,setSettings]=useState(INITIAL_SETTINGS);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[testing,setTesting]=useState(false);const[chatLoading,setChatLoading]=useState(false);const[chatInput,setChatInput]=useState('');const[includeContext,setIncludeContext]=useState(true);const[chatHistory,setChatHistory]=useState([]);const[scanningGmail,setScanningGmail]=useState(false);const[pendingScans,setPendingScans]=useState([]);const[approvingBatchId,setApprovingBatchId]=useState('');const loadSettings=async()=>{setLoading(true);try{const response=await axios.get('/api/integrations/chatgpt/settings');setSettings(prev=>_objectSpread(_objectSpread({},prev),response.data));}catch(error){console.error('Error loading integration settings:',error);alert('Unable to load integration settings right now');}finally{setLoading(false);}};const loadPendingScans=async()=>{try{const response=await axios.get('/api/integrations/chatgpt/gmail/scans/pending');setPendingScans(response.data||[]);}catch(error){console.error('Error loading pending scans:',error);}};useEffect(()=>{loadSettings();loadPendingScans();},[]);const saveSettings=async()=>{setSaving(true);try{await axios.put('/api/integrations/chatgpt/settings',{chatgpt_enabled:settings.chatgpt_enabled,workspace_name:settings.workspace_name,openai_api_key:settings.openai_api_key,openai_model:settings.openai_model,mcp_shared_secret:settings.mcp_shared_secret,oauth_enabled:settings.oauth_enabled,oauth_client_id:settings.oauth_client_id,oauth_client_secret:settings.oauth_client_secret,oauth_redirect_uri:settings.oauth_redirect_uri,gmail_scan_enabled:settings.gmail_scan_enabled,gmail_account_email:settings.gmail_account_email,gmail_access_token:settings.gmail_access_token,gmail_scan_window_days:settings.gmail_scan_window_days});await loadSettings();alert('Integration settings saved');}catch(error){var _error$response,_error$response$data;console.error('Error saving integration settings:',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Unable to save settings');}finally{setSaving(false);}};const testConnection=async()=>{setTesting(true);try{const response=await axios.post('/api/integrations/chatgpt/test');alert(\"Connection OK (\".concat(response.data.model,\"): \").concat(response.data.preview||'No preview'));}catch(error){var _error$response2,_error$response2$data;console.error('Error testing ChatGPT connection:',error);alert(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Connection test failed');}finally{setTesting(false);}};const askChatGpt=async()=>{const trimmed=chatInput.trim();if(!trimmed)return;const nextHistory=[...chatHistory,{role:'user',content:trimmed}];setChatHistory(nextHistory);setChatInput('');setChatLoading(true);try{const response=await axios.post('/api/chatgpt/chat',{message:trimmed,history:nextHistory,include_crm_context:includeContext});setChatHistory(prev=>[...prev,{role:'assistant',content:response.data.reply||''}]);if(onRefreshData)onRefreshData();if(onRefreshTasks)onRefreshTasks();}catch(error){console.error('Error querying chat endpoint:',error);setChatHistory(prev=>{var _error$response3,_error$response3$data;return[...prev,{role:'assistant',content:\"Error: \".concat(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Unable to reach ChatGPT endpoint.')}];});}finally{setChatLoading(false);}};const scanGmail=async()=>{setScanningGmail(true);try{var _response$data;const response=await axios.post('/api/integrations/chatgpt/gmail/scan',{scan_window_days:settings.gmail_scan_window_days});const found=((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.total_found)||0;if(found>0){alert(\"Scan complete. Found \".concat(found,\" pending updates to review.\"));}else{alert('Scan complete. No new updates found.');}await loadPendingScans();}catch(error){var _error$response4,_error$response4$data;console.error('Error scanning Gmail:',error);alert(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'Failed to scan Gmail');}finally{setScanningGmail(false);}};const approveScan=async batchId=>{setApprovingBatchId(batchId);try{var _response$data2;const response=await axios.post(\"/api/integrations/chatgpt/gmail/scans/\".concat(batchId,\"/approve\"));alert(\"Approved. Applied \".concat(((_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.total_applied)||0,\" interactions.\"));await loadPendingScans();if(onRefreshContacts)onRefreshContacts();if(onRefreshData)onRefreshData();}catch(error){var _error$response5,_error$response5$data;console.error('Error approving scan:',error);alert(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||'Failed to approve updates');}finally{setApprovingBatchId('');}};const oauthRedirect=useMemo(()=>settings.oauth_redirect_uri||settings.oauth_redirect_default||'-',[settings.oauth_redirect_uri,settings.oauth_redirect_default]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2699\\uFE0F ChatGPT + MCP Settings\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading integration settings...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"integration-grid\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2699\\uFE0F ChatGPT + MCP Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtext\",children:\"Connect Campsite CRM to ChatGPT and enable Gmail interaction scanning.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"integration-status-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"badge-pill\",children:[\"OpenAI Key: \",settings.openai_key_configured?'Configured':'Missing']}),/*#__PURE__*/_jsxs(\"div\",{className:\"badge-pill\",children:[\"Gmail Token: \",settings.gmail_token_configured?'Configured':'Missing']}),/*#__PURE__*/_jsxs(\"div\",{className:\"badge-pill\",children:[\"MCP Secret: \",settings.mcp_secret_configured?'Configured':'Optional']}),/*#__PURE__*/_jsxs(\"div\",{className:\"badge-pill\",children:[\"OAuth Secret: \",settings.oauth_client_secret_configured?'Configured':'Missing']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-grid\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.chatgpt_enabled,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{chatgpt_enabled:e.target.checked}))}),\"Enable ChatGPT Integration\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Workspace Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.workspace_name,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{workspace_name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OpenAI API Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.openai_api_key,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{openai_api_key:e.target.value})),placeholder:\"sk-...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OpenAI Model\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.openai_model,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{openai_model:e.target.value})),placeholder:\"gpt-4.1-mini\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.gmail_scan_enabled,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{gmail_scan_enabled:e.target.checked}))}),\"Enable Gmail Scan + Approval Flow\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gmail Account Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.gmail_account_email,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{gmail_account_email:e.target.value})),placeholder:\"ops@yourcampsite.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gmail Access Token\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.gmail_access_token,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{gmail_access_token:e.target.value})),placeholder:\"ya29....\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gmail Scan Window (days)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:settings.gmail_scan_window_days,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{gmail_scan_window_days:parseInt(e.target.value,10)||1}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"MCP Shared Secret (Bearer token)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.mcp_shared_secret,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{mcp_shared_secret:e.target.value})),placeholder:\"Optional but recommended\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:settings.oauth_enabled,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{oauth_enabled:e.target.checked}))}),\"Enable OAuth Metadata (for external bridge)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OAuth Client ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.oauth_client_id,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{oauth_client_id:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OAuth Client Secret\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:settings.oauth_client_secret,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{oauth_client_secret:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"OAuth Redirect URI\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:settings.oauth_redirect_uri,onChange:e=>setSettings(_objectSpread(_objectSpread({},settings),{},{oauth_redirect_uri:e.target.value})),placeholder:settings.oauth_redirect_default||''})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"button\",onClick:saveSettings,disabled:saving,children:saving?'Saving...':'Save Settings'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",type:\"button\",onClick:testConnection,disabled:testing,children:testing?'Testing...':'Test OpenAI Connection'})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCEC Gmail Interaction Scan\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtext\",children:\"Scan recent Gmail messages, review pending interaction updates, then approve before applying to contacts.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"button\",onClick:scanGmail,disabled:scanningGmail,children:scanningGmail?'Scanning...':'Scan Gmail for Recent Interactions'})}),/*#__PURE__*/_jsx(\"div\",{className:\"scan-list\",children:pendingScans.length>0?pendingScans.map(batch=>{var _batch$items;return/*#__PURE__*/_jsxs(\"div\",{className:\"scan-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"scan-card-head\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Batch \",batch.id.slice(0,8)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Found \",batch.total_found,\" updates on \",batch.created_at]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-small\",type:\"button\",onClick:()=>approveScan(batch.id),disabled:approvingBatchId===batch.id,children:approvingBatchId===batch.id?'Approving...':'Approve Updates'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"scan-items\",children:((_batch$items=batch.items)===null||_batch$items===void 0?void 0:_batch$items.length)>0?batch.items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"scan-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:item.full_name||item.email}),/*#__PURE__*/_jsxs(\"span\",{children:[item.occurred_at||'-',\" \",item.direction?\"(\".concat(item.direction,\")\"):'']}),/*#__PURE__*/_jsx(\"p\",{children:item.summary})]},item.id)):/*#__PURE__*/_jsx(\"p\",{className:\"chat-empty\",children:\"No item preview available.\"})})]},batch.id);}):/*#__PURE__*/_jsx(\"p\",{className:\"chat-empty\",children:\"No pending scan updates right now.\"})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83E\\uDDED Setup Instructions\"}),/*#__PURE__*/_jsxs(\"ol\",{className:\"instructions-list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Save OpenAI key and enable ChatGPT integration in this page.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Enable Gmail scan and provide account email + access token.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Run the Gmail scan, then approve pending updates after review.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Use the MCP endpoint URL below in your MCP client or ChatGPT bridge.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"instruction-code\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"MCP URL\"}),/*#__PURE__*/_jsx(\"code\",{children:settings.mcp_url||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"instruction-code\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"OAuth Redirect (effective)\"}),/*#__PURE__*/_jsx(\"code\",{children:oauthRedirect})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"instruction-code\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quick MCP initialize example\"}),/*#__PURE__*/_jsx(\"code\",{children:\"curl -X POST \".concat(settings.mcp_url||'http://localhost:5000/mcp',\" -H \\\"Content-Type: application/json\\\" -d '{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"id\\\":1,\\\"method\\\":\\\"initialize\\\",\\\"params\\\":{}}'\")})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"card integration-chat-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCAC Ask ChatGPT Inside CRM\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-subtext\",children:\"This chat can include live CRM context (bookings, waitlist, tasks, summary).\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:includeContext,onChange:e=>setIncludeContext(e.target.checked)}),\"Include live CRM context in prompts\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-log\",children:chatHistory.length>0?chatHistory.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"chat-msg \".concat(msg.role),children:[/*#__PURE__*/_jsx(\"strong\",{children:msg.role==='assistant'?'ChatGPT':'You'}),/*#__PURE__*/_jsx(\"p\",{children:msg.content})]},\"\".concat(msg.role,\"-\").concat(index))):/*#__PURE__*/_jsx(\"p\",{className:\"chat-empty\",children:\"No chat yet. Ask about bookings, occupancy, overdue balances, or task planning.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input-row\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:chatInput,onChange:e=>setChatInput(e.target.value),placeholder:\"Example: What tasks should we prioritize this week based on overdue bookings and upcoming arrivals?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"button\",onClick:askChatGpt,disabled:chatLoading,children:chatLoading?'Thinking...':'Ask ChatGPT'})]})]})]});}export default IntegrationHub;","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","jsx","_jsx","jsxs","_jsxs","INITIAL_SETTINGS","chatgpt_enabled","workspace_name","openai_api_key","openai_model","mcp_shared_secret","oauth_enabled","oauth_client_id","oauth_client_secret","oauth_redirect_uri","gmail_scan_enabled","gmail_account_email","gmail_access_token","gmail_scan_window_days","mcp_url","oauth_redirect_default","openai_key_configured","mcp_secret_configured","oauth_client_secret_configured","gmail_token_configured","IntegrationHub","_ref","onRefreshData","onRefreshTasks","onRefreshContacts","settings","setSettings","loading","setLoading","saving","setSaving","testing","setTesting","chatLoading","setChatLoading","chatInput","setChatInput","includeContext","setIncludeContext","chatHistory","setChatHistory","scanningGmail","setScanningGmail","pendingScans","setPendingScans","approvingBatchId","setApprovingBatchId","loadSettings","response","get","prev","_objectSpread","data","error","console","alert","loadPendingScans","saveSettings","put","_error$response","_error$response$data","testConnection","post","concat","model","preview","_error$response2","_error$response2$data","askChatGpt","trimmed","trim","nextHistory","role","content","message","history","include_crm_context","reply","_error$response3","_error$response3$data","scanGmail","_response$data","scan_window_days","found","total_found","_error$response4","_error$response4$data","approveScan","batchId","_response$data2","total_applied","_error$response5","_error$response5$data","oauthRedirect","className","children","type","checked","onChange","e","target","value","placeholder","min","parseInt","onClick","disabled","length","map","batch","_batch$items","id","slice","created_at","items","item","full_name","email","occurred_at","direction","summary","msg","index"],"sources":["/home/rob/.openclaw/workspace/campsite-crm/frontend/src/components/IntegrationHub.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport '../styles/IntegrationHub.css';\n\nconst INITIAL_SETTINGS = {\n  chatgpt_enabled: false,\n  workspace_name: 'Campsite CRM',\n  openai_api_key: '',\n  openai_model: 'gpt-4.1-mini',\n  mcp_shared_secret: '',\n  oauth_enabled: false,\n  oauth_client_id: '',\n  oauth_client_secret: '',\n  oauth_redirect_uri: '',\n  gmail_scan_enabled: false,\n  gmail_account_email: '',\n  gmail_access_token: '',\n  gmail_scan_window_days: 45,\n  mcp_url: '',\n  oauth_redirect_default: '',\n  openai_key_configured: false,\n  mcp_secret_configured: false,\n  oauth_client_secret_configured: false,\n  gmail_token_configured: false\n};\n\nfunction IntegrationHub({ onRefreshData, onRefreshTasks, onRefreshContacts }) {\n  const [settings, setSettings] = useState(INITIAL_SETTINGS);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [testing, setTesting] = useState(false);\n  const [chatLoading, setChatLoading] = useState(false);\n  const [chatInput, setChatInput] = useState('');\n  const [includeContext, setIncludeContext] = useState(true);\n  const [chatHistory, setChatHistory] = useState([]);\n  const [scanningGmail, setScanningGmail] = useState(false);\n  const [pendingScans, setPendingScans] = useState([]);\n  const [approvingBatchId, setApprovingBatchId] = useState('');\n\n  const loadSettings = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get('/api/integrations/chatgpt/settings');\n      setSettings((prev) => ({ ...prev, ...response.data }));\n    } catch (error) {\n      console.error('Error loading integration settings:', error);\n      alert('Unable to load integration settings right now');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadPendingScans = async () => {\n    try {\n      const response = await axios.get('/api/integrations/chatgpt/gmail/scans/pending');\n      setPendingScans(response.data || []);\n    } catch (error) {\n      console.error('Error loading pending scans:', error);\n    }\n  };\n\n  useEffect(() => {\n    loadSettings();\n    loadPendingScans();\n  }, []);\n\n  const saveSettings = async () => {\n    setSaving(true);\n    try {\n      await axios.put('/api/integrations/chatgpt/settings', {\n        chatgpt_enabled: settings.chatgpt_enabled,\n        workspace_name: settings.workspace_name,\n        openai_api_key: settings.openai_api_key,\n        openai_model: settings.openai_model,\n        mcp_shared_secret: settings.mcp_shared_secret,\n        oauth_enabled: settings.oauth_enabled,\n        oauth_client_id: settings.oauth_client_id,\n        oauth_client_secret: settings.oauth_client_secret,\n        oauth_redirect_uri: settings.oauth_redirect_uri,\n        gmail_scan_enabled: settings.gmail_scan_enabled,\n        gmail_account_email: settings.gmail_account_email,\n        gmail_access_token: settings.gmail_access_token,\n        gmail_scan_window_days: settings.gmail_scan_window_days\n      });\n      await loadSettings();\n      alert('Integration settings saved');\n    } catch (error) {\n      console.error('Error saving integration settings:', error);\n      alert(error.response?.data?.error || 'Unable to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const testConnection = async () => {\n    setTesting(true);\n    try {\n      const response = await axios.post('/api/integrations/chatgpt/test');\n      alert(`Connection OK (${response.data.model}): ${response.data.preview || 'No preview'}`);\n    } catch (error) {\n      console.error('Error testing ChatGPT connection:', error);\n      alert(error.response?.data?.error || 'Connection test failed');\n    } finally {\n      setTesting(false);\n    }\n  };\n\n  const askChatGpt = async () => {\n    const trimmed = chatInput.trim();\n    if (!trimmed) return;\n\n    const nextHistory = [...chatHistory, { role: 'user', content: trimmed }];\n    setChatHistory(nextHistory);\n    setChatInput('');\n    setChatLoading(true);\n\n    try {\n      const response = await axios.post('/api/chatgpt/chat', {\n        message: trimmed,\n        history: nextHistory,\n        include_crm_context: includeContext\n      });\n\n      setChatHistory((prev) => [...prev, { role: 'assistant', content: response.data.reply || '' }]);\n\n      if (onRefreshData) onRefreshData();\n      if (onRefreshTasks) onRefreshTasks();\n    } catch (error) {\n      console.error('Error querying chat endpoint:', error);\n      setChatHistory((prev) => [\n        ...prev,\n        { role: 'assistant', content: `Error: ${error.response?.data?.error || 'Unable to reach ChatGPT endpoint.'}` }\n      ]);\n    } finally {\n      setChatLoading(false);\n    }\n  };\n\n  const scanGmail = async () => {\n    setScanningGmail(true);\n    try {\n      const response = await axios.post('/api/integrations/chatgpt/gmail/scan', {\n        scan_window_days: settings.gmail_scan_window_days\n      });\n\n      const found = response.data?.total_found || 0;\n      if (found > 0) {\n        alert(`Scan complete. Found ${found} pending updates to review.`);\n      } else {\n        alert('Scan complete. No new updates found.');\n      }\n\n      await loadPendingScans();\n    } catch (error) {\n      console.error('Error scanning Gmail:', error);\n      alert(error.response?.data?.error || 'Failed to scan Gmail');\n    } finally {\n      setScanningGmail(false);\n    }\n  };\n\n  const approveScan = async (batchId) => {\n    setApprovingBatchId(batchId);\n    try {\n      const response = await axios.post(`/api/integrations/chatgpt/gmail/scans/${batchId}/approve`);\n      alert(`Approved. Applied ${response.data?.total_applied || 0} interactions.`);\n      await loadPendingScans();\n      if (onRefreshContacts) onRefreshContacts();\n      if (onRefreshData) onRefreshData();\n    } catch (error) {\n      console.error('Error approving scan:', error);\n      alert(error.response?.data?.error || 'Failed to approve updates');\n    } finally {\n      setApprovingBatchId('');\n    }\n  };\n\n  const oauthRedirect = useMemo(\n    () => settings.oauth_redirect_uri || settings.oauth_redirect_default || '-',\n    [settings.oauth_redirect_uri, settings.oauth_redirect_default]\n  );\n\n  if (loading) {\n    return (\n      <div className=\"card\">\n        <h2>‚öôÔ∏è ChatGPT + MCP Settings</h2>\n        <p>Loading integration settings...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"integration-grid\">\n      <section className=\"card\">\n        <h2>‚öôÔ∏è ChatGPT + MCP Settings</h2>\n        <p className=\"section-subtext\">Connect Campsite CRM to ChatGPT and enable Gmail interaction scanning.</p>\n\n        <div className=\"integration-status-row\">\n          <div className=\"badge-pill\">OpenAI Key: {settings.openai_key_configured ? 'Configured' : 'Missing'}</div>\n          <div className=\"badge-pill\">Gmail Token: {settings.gmail_token_configured ? 'Configured' : 'Missing'}</div>\n          <div className=\"badge-pill\">MCP Secret: {settings.mcp_secret_configured ? 'Configured' : 'Optional'}</div>\n          <div className=\"badge-pill\">OAuth Secret: {settings.oauth_client_secret_configured ? 'Configured' : 'Missing'}</div>\n        </div>\n\n        <div className=\"settings-grid\">\n          <label className=\"toggle-row\">\n            <input\n              type=\"checkbox\"\n              checked={settings.chatgpt_enabled}\n              onChange={(e) => setSettings({ ...settings, chatgpt_enabled: e.target.checked })}\n            />\n            Enable ChatGPT Integration\n          </label>\n\n          <div className=\"form-group\">\n            <label>Workspace Name</label>\n            <input\n              type=\"text\"\n              value={settings.workspace_name}\n              onChange={(e) => setSettings({ ...settings, workspace_name: e.target.value })}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>OpenAI API Key</label>\n            <input\n              type=\"password\"\n              value={settings.openai_api_key}\n              onChange={(e) => setSettings({ ...settings, openai_api_key: e.target.value })}\n              placeholder=\"sk-...\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>OpenAI Model</label>\n            <input\n              type=\"text\"\n              value={settings.openai_model}\n              onChange={(e) => setSettings({ ...settings, openai_model: e.target.value })}\n              placeholder=\"gpt-4.1-mini\"\n            />\n          </div>\n\n          <label className=\"toggle-row\">\n            <input\n              type=\"checkbox\"\n              checked={settings.gmail_scan_enabled}\n              onChange={(e) => setSettings({ ...settings, gmail_scan_enabled: e.target.checked })}\n            />\n            Enable Gmail Scan + Approval Flow\n          </label>\n\n          <div className=\"form-group\">\n            <label>Gmail Account Email</label>\n            <input\n              type=\"text\"\n              value={settings.gmail_account_email}\n              onChange={(e) => setSettings({ ...settings, gmail_account_email: e.target.value })}\n              placeholder=\"ops@yourcampsite.com\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Gmail Access Token</label>\n            <input\n              type=\"password\"\n              value={settings.gmail_access_token}\n              onChange={(e) => setSettings({ ...settings, gmail_access_token: e.target.value })}\n              placeholder=\"ya29....\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Gmail Scan Window (days)</label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              value={settings.gmail_scan_window_days}\n              onChange={(e) => setSettings({ ...settings, gmail_scan_window_days: parseInt(e.target.value, 10) || 1 })}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>MCP Shared Secret (Bearer token)</label>\n            <input\n              type=\"password\"\n              value={settings.mcp_shared_secret}\n              onChange={(e) => setSettings({ ...settings, mcp_shared_secret: e.target.value })}\n              placeholder=\"Optional but recommended\"\n            />\n          </div>\n\n          <label className=\"toggle-row\">\n            <input\n              type=\"checkbox\"\n              checked={settings.oauth_enabled}\n              onChange={(e) => setSettings({ ...settings, oauth_enabled: e.target.checked })}\n            />\n            Enable OAuth Metadata (for external bridge)\n          </label>\n\n          <div className=\"form-group\">\n            <label>OAuth Client ID</label>\n            <input\n              type=\"text\"\n              value={settings.oauth_client_id}\n              onChange={(e) => setSettings({ ...settings, oauth_client_id: e.target.value })}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>OAuth Client Secret</label>\n            <input\n              type=\"password\"\n              value={settings.oauth_client_secret}\n              onChange={(e) => setSettings({ ...settings, oauth_client_secret: e.target.value })}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>OAuth Redirect URI</label>\n            <input\n              type=\"text\"\n              value={settings.oauth_redirect_uri}\n              onChange={(e) => setSettings({ ...settings, oauth_redirect_uri: e.target.value })}\n              placeholder={settings.oauth_redirect_default || ''}\n            />\n          </div>\n        </div>\n\n        <div className=\"form-actions\">\n          <button className=\"btn btn-primary\" type=\"button\" onClick={saveSettings} disabled={saving}>\n            {saving ? 'Saving...' : 'Save Settings'}\n          </button>\n          <button className=\"btn btn-secondary\" type=\"button\" onClick={testConnection} disabled={testing}>\n            {testing ? 'Testing...' : 'Test OpenAI Connection'}\n          </button>\n        </div>\n      </section>\n\n      <section className=\"card\">\n        <h2>üì¨ Gmail Interaction Scan</h2>\n        <p className=\"section-subtext\">Scan recent Gmail messages, review pending interaction updates, then approve before applying to contacts.</p>\n\n        <div className=\"form-actions\">\n          <button className=\"btn btn-primary\" type=\"button\" onClick={scanGmail} disabled={scanningGmail}>\n            {scanningGmail ? 'Scanning...' : 'Scan Gmail for Recent Interactions'}\n          </button>\n        </div>\n\n        <div className=\"scan-list\">\n          {pendingScans.length > 0 ? pendingScans.map((batch) => (\n            <div key={batch.id} className=\"scan-card\">\n              <div className=\"scan-card-head\">\n                <div>\n                  <strong>Batch {batch.id.slice(0, 8)}</strong>\n                  <p>Found {batch.total_found} updates on {batch.created_at}</p>\n                </div>\n                <button\n                  className=\"btn btn-secondary btn-small\"\n                  type=\"button\"\n                  onClick={() => approveScan(batch.id)}\n                  disabled={approvingBatchId === batch.id}\n                >\n                  {approvingBatchId === batch.id ? 'Approving...' : 'Approve Updates'}\n                </button>\n              </div>\n              <div className=\"scan-items\">\n                {batch.items?.length > 0 ? batch.items.map((item) => (\n                  <div key={item.id} className=\"scan-item\">\n                    <strong>{item.full_name || item.email}</strong>\n                    <span>{item.occurred_at || '-'} {item.direction ? `(${item.direction})` : ''}</span>\n                    <p>{item.summary}</p>\n                  </div>\n                )) : <p className=\"chat-empty\">No item preview available.</p>}\n              </div>\n            </div>\n          )) : <p className=\"chat-empty\">No pending scan updates right now.</p>}\n        </div>\n      </section>\n\n      <section className=\"card\">\n        <h2>üß≠ Setup Instructions</h2>\n        <ol className=\"instructions-list\">\n          <li>Save OpenAI key and enable ChatGPT integration in this page.</li>\n          <li>Enable Gmail scan and provide account email + access token.</li>\n          <li>Run the Gmail scan, then approve pending updates after review.</li>\n          <li>Use the MCP endpoint URL below in your MCP client or ChatGPT bridge.</li>\n        </ol>\n\n        <div className=\"instruction-code\">\n          <strong>MCP URL</strong>\n          <code>{settings.mcp_url || '-'}</code>\n        </div>\n\n        <div className=\"instruction-code\">\n          <strong>OAuth Redirect (effective)</strong>\n          <code>{oauthRedirect}</code>\n        </div>\n\n        <div className=\"instruction-code\">\n          <strong>Quick MCP initialize example</strong>\n          <code>{`curl -X POST ${settings.mcp_url || 'http://localhost:5000/mcp'} -H \"Content-Type: application/json\" -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{}}'`}</code>\n        </div>\n      </section>\n\n      <section className=\"card integration-chat-card\">\n        <h2>üí¨ Ask ChatGPT Inside CRM</h2>\n        <p className=\"section-subtext\">This chat can include live CRM context (bookings, waitlist, tasks, summary).</p>\n\n        <label className=\"toggle-row\">\n          <input\n            type=\"checkbox\"\n            checked={includeContext}\n            onChange={(e) => setIncludeContext(e.target.checked)}\n          />\n          Include live CRM context in prompts\n        </label>\n\n        <div className=\"chat-log\">\n          {chatHistory.length > 0 ? chatHistory.map((msg, index) => (\n            <div key={`${msg.role}-${index}`} className={`chat-msg ${msg.role}`}>\n              <strong>{msg.role === 'assistant' ? 'ChatGPT' : 'You'}</strong>\n              <p>{msg.content}</p>\n            </div>\n          )) : (\n            <p className=\"chat-empty\">No chat yet. Ask about bookings, occupancy, overdue balances, or task planning.</p>\n          )}\n        </div>\n\n        <div className=\"chat-input-row\">\n          <textarea\n            value={chatInput}\n            onChange={(e) => setChatInput(e.target.value)}\n            placeholder=\"Example: What tasks should we prioritize this week based on overdue bookings and upcoming arrivals?\"\n          />\n          <button className=\"btn btn-primary\" type=\"button\" onClick={askChatGpt} disabled={chatLoading}>\n            {chatLoading ? 'Thinking...' : 'Ask ChatGPT'}\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n}\n\nexport default IntegrationHub;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}