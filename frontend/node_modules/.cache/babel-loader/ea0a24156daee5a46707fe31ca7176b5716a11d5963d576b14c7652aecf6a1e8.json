{"ast":null,"code":"var _jsxFileName = \"/home/rob/.openclaw/workspace/campsite-crm/frontend/src/components/GuestTypeChart.jsx\";\nimport React from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Tooltip, Legend } from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Tooltip, Legend);\nfunction GuestTypeChart({\n  data = []\n}) {\n  const labels = (data || []).map(entry => entry.guest_type);\n  const revenueData = (data || []).map(entry => Number(entry.total_revenue || 0));\n  const bookingData = (data || []).map(entry => Number(entry.booking_count || 0));\n  const chartData = {\n    labels,\n    datasets: [{\n      label: 'Revenue',\n      data: revenueData,\n      backgroundColor: 'rgba(0, 217, 255, 0.6)',\n      borderColor: 'rgba(0, 217, 255, 1)',\n      borderWidth: 1\n    }, {\n      label: 'Bookings',\n      data: bookingData,\n      backgroundColor: 'rgba(255, 0, 110, 0.5)',\n      borderColor: 'rgba(255, 0, 110, 0.8)',\n      borderWidth: 1\n    }]\n  };\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      tooltip: {\n        callbacks: {\n          label: context => {\n            if (context.dataset.label === 'Revenue') {\n              var _context$parsed$y;\n              return `${context.dataset.label}: $${(_context$parsed$y = context.parsed.y) === null || _context$parsed$y === void 0 ? void 0 : _context$parsed$y.toLocaleString()}`;\n            }\n            return `${context.dataset.label}: ${context.parsed.y}`;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"guest-type-chart\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Revenue by Guest Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"See which guest segments are driving the highest revenue.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), labels.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"empty-state small\",\n      children: \"Add bookings to visualize guest-type performance.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Bar, {\n      data: chartData,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_c = GuestTypeChart;\nexport default GuestTypeChart;\nvar _c;\n$RefreshReg$(_c, \"GuestTypeChart\");","map":{"version":3,"names":["React","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Tooltip","Legend","Bar","jsxDEV","_jsxDEV","register","GuestTypeChart","data","labels","map","entry","guest_type","revenueData","Number","total_revenue","bookingData","booking_count","chartData","datasets","label","backgroundColor","borderColor","borderWidth","options","responsive","plugins","legend","position","tooltip","callbacks","context","dataset","_context$parsed$y","parsed","y","toLocaleString","scales","beginAtZero","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","_c","$RefreshReg$"],"sources":["/home/rob/.openclaw/workspace/campsite-crm/frontend/src/components/GuestTypeChart.jsx"],"sourcesContent":["import React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Tooltip,\n  Legend\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\n\nChartJS.register(CategoryScale, LinearScale, BarElement, Tooltip, Legend);\n\nfunction GuestTypeChart({ data = [] }) {\n  const labels = (data || []).map(entry => entry.guest_type);\n  const revenueData = (data || []).map(entry => Number(entry.total_revenue || 0));\n  const bookingData = (data || []).map(entry => Number(entry.booking_count || 0));\n\n  const chartData = {\n    labels,\n    datasets: [\n      {\n        label: 'Revenue',\n        data: revenueData,\n        backgroundColor: 'rgba(0, 217, 255, 0.6)',\n        borderColor: 'rgba(0, 217, 255, 1)',\n        borderWidth: 1\n      },\n      {\n        label: 'Bookings',\n        data: bookingData,\n        backgroundColor: 'rgba(255, 0, 110, 0.5)',\n        borderColor: 'rgba(255, 0, 110, 0.8)',\n        borderWidth: 1\n      }\n    ]\n  };\n\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      tooltip: {\n        callbacks: {\n          label: (context) => {\n            if (context.dataset.label === 'Revenue') {\n              return `${context.dataset.label}: $${context.parsed.y?.toLocaleString()}`;\n            }\n            return `${context.dataset.label}: ${context.parsed.y}`;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  };\n\n  return (\n    <div className=\"guest-type-chart\">\n      <div className=\"section-header\">\n        <h3>Revenue by Guest Type</h3>\n        <p>See which guest segments are driving the highest revenue.</p>\n      </div>\n      {labels.length === 0 ? (\n        <p className=\"empty-state small\">Add bookings to visualize guest-type performance.</p>\n      ) : (\n        <Bar data={chartData} options={options} />\n      )}\n    </div>\n  );\n}\n\nexport default GuestTypeChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}